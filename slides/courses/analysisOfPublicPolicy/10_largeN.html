<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Method: Large-N Approach</title>
    <meta charset="utf-8" />
    <meta name="author" content="Yue HU" />
    <link href="libs/countdown-0.3.3/countdown.css" rel="stylesheet" />
    <script src="libs/countdown-0.3.3/countdown.js"></script>
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link rel="stylesheet" href="zh-CN_custom.css" type="text/css" />
    <link rel="stylesheet" href="styles.css" type="text/css" />
    <link rel="stylesheet" href="https:\\use.fontawesome.com\releases\v5.6.0\css\all.css" type="text/css" />
    <link rel="stylesheet" href="https:\\cdnjs.cloudflare.com\ajax\libs\animate.css\3.7.0\animate.min.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Method: Large-N Approach
## Analysis of Public Policy: Perspectives and Methods (30700953)
### Yue HU
### Political Science, Tsinghua University

---






class: bottom, inverse

background-image: url("images/court.jpg")
background-position: center
background-size: contain

# Defense Time

---

## Procedure

1. Drawing a respondent from the audience
1. The defender talks.
1. The defender queries.
1. The respondent queries.
1. Preparation (30 sec)
1. The respondent answers.
1. The defender answers.

<div class="countdown" id="timer_5e2cf221" style="right:0;bottom:0;" data-audio="true" data-warnwhen="0">
<code class="countdown-time"><span class="countdown-digits minutes">00</span><span class="countdown-digits colon">:</span><span class="countdown-digits seconds">30</span></code>
</div>


---

class: inverse, bottom

# Large-N Analysis

---

## Why Large N?

1. Experiment is not a practical option
    + Esp. in policy analysis
1. Large amount of observed data
1. Advancement of statistical methods and techniques

--

Let's take the experimental logic aside for a moment...

---

## How Large Is Large?

Let's toss a fair coin:

Head or Tail?

.center[&lt;img src="images/toss.gif" height = 350 /&gt;]

---

How about 1 million times? How many heads?

--

.center[&lt;img src="images/largeNum.png" height = 500 /&gt;]

---

## Law of Large Numbers

As the number of experiments (sample) increases, the ratio of outcomes will converge to the theoretical (population) average.

* Rule of thumb: `\(&gt; 100\)`

---

## Large-N Approaches?

* Univariate analysis
* Bivariate analysis
* Multivariate analysis

---

## Univariate analysis

.left-column[
Surveying a dorm room, asking the members how many shows they watched in the past week.
The right table is the records:
]

.right-column[
&lt;table class="table" style="font-size: 25px; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:center;"&gt; Student_ID &lt;/th&gt;
   &lt;th style="text-align:left;"&gt; Episodes &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2019995567 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2019995895 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2019996827 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 1 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2019992799 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2019996788 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2019997043 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 3 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:center;"&gt; 2019993332 &lt;/td&gt;
   &lt;td style="text-align:left;"&gt; 4 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

???

Let's say we'll test a school policy of Internet access management. 
To do so, researchers surveyed a dorm room, asking the members how many shows they watched in the past week.

---

## How to Describe This Variable

+ Given the list: (1, 1, 1, 2, 3, 3, 4)

--

+ Mean: `\(\frac{1 + 1 + 1 + 2 + 3 + 3 + 4}{7} = \frac{15}{7} \approx 2.143.\)`

--

+ Median: 1, 1, 1, .magenta[2], 3, 3, 4

--

+ Mode: three .magenta[1]s, one 2, two 3s, and one 4.

---

## Relations among These Ways

Let's Expand the data to 1000 students.

&lt;img src="10_largeN_files/figure-html/unnamed-chunk-1-1.png" style="display: block; margin: auto;" /&gt;

---

## Mean, Median, or Mode?

&lt;img src="10_largeN_files/figure-html/distribution-1.png" style="display: block; margin: auto;" /&gt;

---

## Moments of A Distribution

Distribution: How much of it there is in each place or at each time.

Moments: A specific quantitative measure of the shape of a function.

--

0th: Total probability  
1st: Mean  
2ed: Variance  
3id: Skewness  
4th: Kurtosis (tailedness)

---

## Primary Moments

Mean: `\(\mu_x = \frac{\sum X_i}{N};\)`  
Variance: `\(\sigma^2_x = E[(X - \mu_x)^2].\)`

&lt;img src="10_largeN_files/figure-html/meanVariance-1.png" style="display: block; margin: auto;" /&gt;

---

Skewness: `\(\gamma_x = E[(\frac{X - \mu_x}{\sigma})^3].\)`

&lt;img src="10_largeN_files/figure-html/skewness-1.png" style="display: block; margin: auto;" /&gt;

---

Kurtosis: `\(\kappa_x = E[(\frac{X - \mu_X}{\sigma})^4].\)`

&lt;img src="10_largeN_files/figure-html/kurtosis-1.png" style="display: block; margin: auto;" /&gt;

---

class: small

## Descriptive Statistics

<div class="container st-container"><table class="table table-striped table-bordered st-table st-table-striped st-table-bordered st-multiline ">
  <thead>
    <tr>
      <th align="center" class="no st-protect-top-border"><strong>No</strong></th>
      <th align="center" class="variable st-protect-top-border"><strong>Variable</strong></th>
      <th align="center" class="stats.values st-protect-top-border"><strong>Stats / Values</strong></th>
      <th align="center" class="freqs.pct.valid st-protect-top-border"><strong>Freqs (% of Valid)</strong></th>
      <th align="center" class="graph st-protect-top-border"><strong>Graph</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td align="center">1</td>
      <td align="left">gender
[factor]</td>
      <td align="left">1. F
2. M</td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">489</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">50.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">489</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">50.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent"><img style="border:none;background-color:transparent;padding:0" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAEQAAAAtBAMAAADlxtATAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqb39/f///+DdZCQAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5AEaETAhzQ6ClQAAACxJREFUOMtjYBhcQAkPgCpRNsYJjEaVjDAlRKQXQTyAqkpG0+6oEiqn3cECAKESuc9GTnO9AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIwLTAxLTI2VDA5OjQ4OjMzKzA4OjAwApsThgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMC0wMS0yNlQwOTo0ODozMyswODowMHPGqzoAAAAASUVORK5CYII="></td>
    </tr>
    <tr>
      <td align="center">2</td>
      <td align="left">BMI
[numeric]</td>
      <td align="left">Mean (sd) : 25.7 (4.5)
min < med < max:
8.8 < 25.6 < 39.4
IQR (CV) : 5.7 (0.2)</td>
      <td align="left" style="vertical-align:middle">974 distinct values</td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent"><img style="border:none;background-color:transparent;padding:0" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAHQAAABUBAMAAAChGA4iAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqby8vL///8shn5hAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5AEaETAhzQ6ClQAAAKBJREFUWMPt1tsNgCAMBVBW0A0sG9j9dxMFRRGUEo0PbsOfnJDYQq5SdVWTqpaIuvinU8rMoKABTQxUDtXxg++i4+yXUuYeFBT0a9TceSqkZvU/pvY5LKOTe5yGrRXQ8GBQUNALKc2vi5zq2V1GNxlVRjfhGPQJarpXStdbX0L9LIqpT0Kfp61t6iF10W1Hg60x6tKBo8svz6VmeSouVVcNNvalfxygYbMAAAAldEVYdGRhdGU6Y3JlYXRlADIwMjAtMDEtMjZUMDk6NDg6MzMrMDg6MDACmxOGAAAAJXRFWHRkYXRlOm1vZGlmeQAyMDIwLTAxLTI2VDA5OjQ4OjMzKzA4OjAwc8arOgAAAABJRU5ErkJggg=="></td>
    </tr>
    <tr>
      <td align="center">3</td>
      <td align="left">disease
[character]</td>
      <td align="left">1. Hypertension
2. Cancer
3. Cholesterol
4. Heart
5. Pulmonary
6. Musculoskeletal
7. Diabetes
8. Hearing
9. Digestive
10. Hypotension
[ 3 others ]</td>
      <td align="left" style="padding:0;vertical-align:middle"><table style="border-collapse:collapse;border:none;margin:0"><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">36</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">16.2%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">34</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">15.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">21</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">20</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">20</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">19</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">8.6%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">14</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">6.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">14</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">6.3%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">12</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">5.4%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">11</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">5.0%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr><tr style="background-color:transparent"><td style="padding:0 5px 0 7px;margin:0;border:0" align="right">21</td><td style="padding:0 2px 0 0;border:0;" align="left">(</td><td style="padding:0;border:0" align="right">9.5%</td><td style="padding:0 4px 0 2px;border:0" align="left">)</td></tr></table></td>
      <td align="left" style="vertical-align:middle;padding:0;background-color:transparent"><img style="border:none;background-color:transparent;padding:0" src="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAB8AAADOBAMAAAA04sSAAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAD1BMVEX////9/v2mpqb39/f///+DdZCQAAAAAnRSTlMAAHaTzTgAAAABYktHRACIBR1IAAAAB3RJTUUH5AEaETAhzQ6ClQAAAH5JREFUSMftlcsJgEAMRLeETQd+Ooj99yZI1k8GIegelMkcHzjwBsOW0idTy2BgXiwUAPSlpd6B/ZPqSpUCgH5wsfEEtlIaAPq5WP/FcsI+P524UqUBoB9bTFyp8gDQf3imX3D5z4R215dSIgD6ocXElSoRAP3YVebjeYC3WQELkvBffyQhMwAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMC0wMS0yNlQwOTo0ODozMyswODowMAKbE4YAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjAtMDEtMjZUMDk6NDg6MzMrMDg6MDBzxqs6AAAAAElFTkSuQmCC"></td>
    </tr>
  </tbody>
</table></div>

---

## Binary Analysis

Relations between variables

<div class="container st-container">
<table class="table table-bordered st-table st-table-bordered st-cross-table ">
<thead>
<tr>
<th></th>
<th colspan="3" align="center" class="st-protect-top-border">cyl</th>
</tr>
<tr>
<td align="center">
<strong>gear</strong>
</td>
<th colspan="1" align="center">4</th>
<th colspan="1" align="center">6</th>
<th colspan="1" align="center">8</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<strong align="center">3</strong>
</td>
<td>
<span>1</span>
</td>
<td>
<span>2</span>
</td>
<td>
<span>12</span>
</td>
</tr>
<tr>
<td>
<strong align="center">4</strong>
</td>
<td>
<span>8</span>
</td>
<td>
<span>4</span>
</td>
<td>
<span>0</span>
</td>
</tr>
<tr>
<td>
<strong align="center">5</strong>
</td>
<td>
<span>2</span>
</td>
<td>
<span>1</span>
</td>
<td>
<span>2</span>
</td>
</tr>
</tbody>
</table>
</div>

---

## Scatter plot

![](10_largeN_files/figure-html/scatter-1.png)&lt;!-- --&gt;

---

## Multivariate Analysis

When we stick with observed data... 

+ All about comparison
+ ~~randomization~~ matching

--

&lt;img src="images/buyerSeller.jpg" height = 300, width = 320 /&gt;
&lt;img src="images/matching.png" height = 300, width = 320 /&gt;

---

## Example: Put All the Things Together

Tang, Wenfang, Yue Hu, and Shuai Jin. 2016. “Affirmative Inaction: Language Education and Labor Mobility among China’s Muslim Minorities.” *Chinese Sociological Review* 48(4): 346–66.

---

## Why Is There An Inequality in Labor Mobility?

Puzzle: .magenta[Same] education level, but .magenta[different] labor mobility

&lt;img src="images/han.jpeg" height = 300, width = 320 /&gt;
&lt;img src="images/uyghur.jpg" height = 300, width = 320 /&gt;

---

## Theory

Affirmative inaction language policy reduces Uyghurs' labor mobility.

.center[&lt;img src="images/uyghurStudent.jpg" height = 350 /&gt;]

---

## Hypothesis


H&lt;sub&gt;1&lt;/sub&gt;: Education is .magenta[fairly equal] between the Han and the Uyghur groups.

--

H&lt;sub&gt;2&lt;/sub&gt;: The linguistically distinctive Uyghurs are far less proficient in Mandarin than the Han majority.

--

H&lt;sub&gt;3&lt;/sub&gt;: Hans enjoy a higher degree of socioeconomic status than the Uyghurs.

--

H&lt;sub&gt;4&lt;/sub&gt; Language proficiency plays a favorable role in improving the socioeconomic conditions for the Uyghurs.

---

## Examination

.center[&lt;img src="images/eduMan.png" height = 300 /&gt;]

--

.small[
H&lt;sub&gt;1&lt;/sub&gt;: Education is fairly equal between the Han and the Uyghur. &amp;check;  
H&lt;sub&gt;2&lt;/sub&gt;: The Putonghua of Uyghurs are far less proficient.  
H&lt;sub&gt;3&lt;/sub&gt;: Hans enjoy a higher socioeconomic level than the Uyghurs.  
H&lt;sub&gt;4&lt;/sub&gt;: Language proficiency favors Uyghurs in promoting.
]

---

.center[&lt;img src="images/eduMan2.png" height = 400 /&gt;]

--

.small[
H&lt;sub&gt;1&lt;/sub&gt;: Education is fairly equal between the Han and the Uyghur. &amp;check;  
H&lt;sub&gt;2&lt;/sub&gt;: The Putonghua of Uyghurs are far less proficient.&amp;check;  
H&lt;sub&gt;3&lt;/sub&gt;: Hans enjoy a higher socioeconomic level than the Uyghurs.  
H&lt;sub&gt;4&lt;/sub&gt;: Language proficiency favors Uyghurs in promoting.
]

---

.center[&lt;img src="images/jobEth.png" height = 400 /&gt;]

--

.small[
H&lt;sub&gt;1&lt;/sub&gt;: Education is fairly equal between the Han and the Uyghur. &amp;check;  
H&lt;sub&gt;2&lt;/sub&gt;: The Putonghua of Uyghurs are far less proficient.&amp;check;  
H&lt;sub&gt;3&lt;/sub&gt;: Hans enjoy a higher socioeconomic level than the Uyghurs.&amp;check;  
H&lt;sub&gt;4&lt;/sub&gt;: Language proficiency favors Uyghurs in promoting.
]

---

.center[&lt;img src="images/sem.png" height = 400 /&gt;]

--

.small[
H&lt;sub&gt;1&lt;/sub&gt;: Education is fairly equal between the Han and the Uyghur. &amp;check;  
H&lt;sub&gt;2&lt;/sub&gt;: The Putonghua of Uyghurs are far less proficient.&amp;check;  
H&lt;sub&gt;3&lt;/sub&gt;: Hans enjoy a higher socioeconomic level than the Uyghurs.&amp;check;  
H&lt;sub&gt;4&lt;/sub&gt;: Language proficiency favors Uyghurs in promoting.&amp;check;
]

---

## Take-Home Points

.left-column[
### Do large-N analyses

1. Identify puzzle
1. Elaborate theory
1. Imply hypotheses
1. Design examination
1. Analyze data
1. Report findings
]

--

.right-column[

### Bonus

&lt;img src="images/table.png" height = 400 /&gt;
]
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_HTMLorMML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
