<!DOCTYPE html>
<html lang="en"><head>
<script src="01_theory_files/libs/clipboard/clipboard.min.js"></script>
<script src="01_theory_files/libs/quarto-html/tabby.min.js"></script>
<script src="01_theory_files/libs/quarto-html/popper.min.js"></script>
<script src="01_theory_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="01_theory_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01_theory_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="01_theory_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="01_theory_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01_theory_files/libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="01_theory_files/libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="01_theory_files/libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.4.533">

  <meta name="author" content="Yue Hu">
  <title>Principles of Text Analysis</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="01_theory_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="01_theory_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="01_theory_files/libs/revealjs/dist/theme/quarto.css">
  <link rel="stylesheet" href="https://sammo3182.github.io/slides_gh/css/style_basic.css">
  <link href="01_theory_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="01_theory_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="01_theory_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="01_theory_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="01_theory_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="01_theory_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="https://gitlab.com/sammo3182/backup/raw/85b3c1ad4b459d7a9f901f124b936428eda5fcaf/logo_THPS.png?inline=true" data-background-position="top 10% right 5%" data-background-size="250px" class="quarto-title-block center">
  <h1 class="title">Principles of<br>Text Analysis</h1>
  <p class="subtitle">Class Advanced Methods School, CityU</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Yue Hu 
</div>
        <p class="quarto-title-affiliation">
            Department of Political Science
          </p>
        <p class="quarto-title-affiliation">
            Tsinghua University
          </p>
    </div>
</div>

</section>
<section id="outline" class="title-slide slide level1 center">
<h1>Outline</h1>
<ul>
<li>Text-As-Data Approach</li>
<li>DGP for Text-As-Data</li>
<li>Analyzing text data</li>
</ul>
</section>

<section>
<section id="text-as-data-approach" class="title-slide slide level1 center">
<h1>Text-As-Data Approach</h1>

</section>
<section id="when-text-becomes-big-data" class="slide level2">
<h2>When text becomes (big) data</h2>
<ul>
<li>Yearly: Social media users increase 56,530,000 in 2017–18.</li>
<li>Daily:
<ul>
<li>Baidu (“Chinese google”) <span class="red">day</span> user search request, it takes <span class="red">1.7 days</span> to scan once;</li>
<li>Wechat (“Chinese whatsup”) <span class="red">day</span> added data <span class="red">500TB</span>—more than all human books.</li>
</ul></li>
<li>Timely: 2.9 million emails around the world <span class="red">every second</span>
<ul>
<li>A person’s <span class="red">5.5 years</span> of day and night to read them all.</li>
</ul></li>
</ul>
<div class="fragment">
<div class="callout callout-tip callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p>By 2020, the size of global data has reached 40ZB (5.2TB/person).<sup>1</sup></p>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>http://pdf.dfcfw.com/pdf/H3_AP201903111304577789_1.pdf</p>
<p>Giga Byte &lt; Tera Byte &lt; Peta Byte &lt; Exa Byte &lt; Zetta Byte &lt; Yotta Byte</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><ol class="aside-footnotes"><li id="fn1"><p> <span class="fragment"><sup>1</sup> 1ZB = 1,024EB = 1,024<sup>2</sup>PB = 1,024<sup>3</sup>TB = 1024<sup>4</sup>GB—reference: 1080p HD 2hrs：6GB</span></p></li></ol></aside></section>
<section id="history-of-text-as-data" class="slide level2">
<h2>History of text as data</h2>
<ul>
<li>“Ancient” studies
<ul>
<li>How the law resolves externality problems <span class="citation" data-cites="Coase1960">(<a href="#/references" role="doc-biblioref" onclick="">Coase 1960</a>)</span></li>
<li>Construction of policy surprises via historical documents <span class="citation" data-cites="FriedmanSchwartz2008">(<a href="#/references" role="doc-biblioref" onclick="">Friedman and Schwartz 2008</a>)</span></li>
</ul></li>
</ul>
<div class="fragment">
<ul>
<li>Difficulties
<ul>
<li>Maintaining and update</li>
<li>Analytic methods</li>
<li>Time consumption</li>
<li>Generalization</li>
</ul></li>
</ul>
</div>
</section>
<section id="boom-of-text-analysis-in-the-age-of-big-data" class="slide level2">
<h2>Boom of Text Analysis in the age of big data</h2>
<ul>
<li>Text data grows <span class="red">exponentially</span></li>
<li>Large-scale text data <span class="red">collection</span></li>
<li>Enhanced <span class="red">storage and management</span> capabilities</li>
<li>Extensive <span class="red">social meaning</span> expressed through text</li>
<li>Scalable, well-developed and economic <span class="red">methods</span></li>
</ul>
</section>
<section id="text-as-data-perspective" class="slide level2">
<h2>Text-as-data perspective</h2>
<div class="columns">
<div class="column" style="width:20%;">
<p><em>Objective</em></p>
<p><del>Text</del> Language</p>
</div><div class="column" style="width:80%;">
<p><em>Type</em></p>
<ul>
<li>Text analysis vs.&nbsp;content analysis</li>
<li>Representational analysis vs.&nbsp;Instrumental analysis</li>
<li>Thematic analysis vs.&nbsp;semantic analysis</li>
</ul>
<aside class="notes">
<p>Representational 精确解码，关注外显（manifest）； Instrumental 探索意图，关注隐含（latent） Thematic 概念是否出现及何种关系，基于词频和向量； Semantic 识别主题间的具体关系；考虑语法、逻辑等</p>
<p>语法学(syntax, how to say it) 语义学(semantic, what is said) 语用学(pragmatic, what is implicated)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div>
</section>
<section id="illustration-i" class="slide level2">
<h2>Illustration I</h2>
<p><span class="citation" data-cites="Grimmer2010">Grimmer (<a href="#/references" role="doc-biblioref" onclick="">2010</a>)</span></p>
<ul>
<li>Objective
<ul>
<li>The priorities political actors emphasize in statements</li>
</ul></li>
<li>Data
<ul>
<li>An original collection of over 24,000 Senate press releases in 2007</li>
</ul></li>
<li>Method
<ul>
<li>Bayesian Hierarchical Topic Model</li>
</ul></li>
</ul>
</section>
<section id="findings" class="slide level2">
<h2>Findings</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Focus</a></li><li><a href="#tabset-1-2">Cluster</a></li><li><a href="#tabset-1-3">Predict</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_grimmer1.png" class="lightbox" data-glightbox="description: .lightbox-desc-1" data-gallery="quarto-lightbox-gallery-1" title="Committee leaders focus on their committee’s issues"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_grimmer1.png" class="quarto-figure quarto-figure-center" height="500" alt="Committee leaders focus on their committee’s issues"></a></p>
<figcaption>Committee leaders focus on their committee’s issues</figcaption>
</figure>
</div>
<aside class="notes">
<p>Fig. 4 Chairman and ranking members of committees allocate more attention to issues under their committees’ jurisdiction than other senators. <strong>This figure compares the attention that Senate committee leaders—chairs or ranking members—dedicate to topics under their committee jurisdictions to the attention allocated by the rest of the Senate.</strong> The solid dots represent the expected difference, the thick lines are 80% credible intervals, and the thin lines are 95% intervals. Along the left-hand vertical axis, the topics are listed, and on the right-hand side, the corresponding committee names are listed. In all but seven cases, the dot is to the right of the zero line, indicating that leaders of committees discuss issues that highlight their power in the institution more often than other senators.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-1-2">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_grimmer2.png" class="lightbox" data-glightbox="description: .lightbox-desc-2" data-gallery="quarto-lightbox-gallery-2" title="Expressed agendas cluster geographically"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_grimmer2.png" class="quarto-figure quarto-figure-center" height="500" alt="Expressed agendas cluster geographically"></a></p>
<figcaption>Expressed agendas cluster geographically</figcaption>
</figure>
</div>
<aside class="notes">
<p>Fig. 5 Attention to issues follows expected geographic patterns. <strong>This figure demonstrates that senators’ expressed agendas are grouped geographically.</strong> The left-hand plot shows that senators from western states allocate substantial attention to public-land issues. Darker shades indicate that the average expected attention from the state’s delegation to public-land issues is larger. The center plot carries out a comparison of three different regional issues: public-land and western states (top estimate), hurricanes and gulf coast states (middle estimate), and border-security and states that share an international border (bottom estimate). The point in each plot represents the expected difference between the attention to senators in a geographic area allocate to an issue and the attention senators from other areas of the country dedicate to the same issue. The thick and thin lines are 80% and 95% HPD intervals for this difference. Each point is to the right of the zero, indicating that the issues receive more attention in the geographic areas we would expect. The right-hand plot shows that senators from states with a large number of farms per person also tend to allocate more attention to agriculture issues. The horizontal axis represents the number of farms per resident of the state (one measure of agriculture’s importance to a state), and the vertical axis indicates the proportion of press releases allocated to agricultural issues. The gray lines are lowess curves indicates the relationship between the number of farms per capita and the attention to agriculture, whereas the black line is the average relationship.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-1-3">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_grimmer3.png" class="lightbox" data-glightbox="description: .lightbox-desc-3" data-gallery="quarto-lightbox-gallery-3" title="Attention to appropriations predicts opposition to earmark reform"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_grimmer3.png" class="quarto-figure quarto-figure-center" height="500" alt="Attention to appropriations predicts opposition to earmark reform"></a></p>
<figcaption>Attention to appropriations predicts opposition to earmark reform</figcaption>
</figure>
</div>
<aside class="notes">
<p>An earmark is a provision inserted into a discretionary spending appropriations bill that directs funds to a specific recipient while bypassing the merit-based or competitive funds allocation process. These provisions are often associated with legislation specifying certain congressional spending priorities or in revenue bills that apply to a limited number of individuals or entities.</p>
<p>The DeMint-McCain amendment was a significant proposal related to earmark reform. Senator Jim DeMint introduced a one-year earmark moratorium amendment, which was co-sponsored by both Republicans and Democrats. The amendment aimed to end the era of earmarks and was seen as a step towards increased transparency, accountability, and fiscal responsibility in Congress. Despite its support from some senators and advocacy groups, the amendment was defeated in a late-night Senate vote, with a result of 29-71.</p>
<p>Fig. 6 Senators who dedicate more attention to appropriations were more likely to oppose Demint-McCain. This figure shows that <strong>senators who dedicate more attention to appropriations in their press releases are more likely to oppose the Demint-McCain amendment.</strong> The vertical axis plots the vote on the amendment, and along the horizontal axis is the average proportion of press releases dedicate to discussing appropriations secured for fire departments. To generate the light gray lines, I took 100 draws from each senator’s posterior expressed agenda and then regressed the earmark vote on the draw from the posterior. The gray lines represent the expected probability of supporting the DemintMcCain amendment, and the solid black line is the expected value of the relationship, averaged over the draws from the posterior distribution on the expressed agenda.</p>
<p>The left-hand figure shows that senators who discuss fire department grants more often were more likely to oppose the DemintMcCain amendment, and the center plot shows that this relationship was even stronger for an aggregate appropriations category. The right-hand plot shows that the relationship remains even after conditioning upon estimated ideal points of senators, suggesting that consistency explains components of voting behavior beyond ideal point estimates.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div>
</div>
</section>
<section id="illustration-ii" class="slide level2">
<h2>Illustration II</h2>
<p><span class="citation" data-cites="BenoitEtAl2016">Benoit et al. (<a href="#/references" role="doc-biblioref" onclick="">2016</a>)</span></p>
<ul>
<li>Objective
<ul>
<li>Professionals vs.&nbsp;Masses</li>
</ul></li>
<li>Method
<ul>
<li>Crowd-sourced identification</li>
</ul></li>
<li>Data
<ul>
<li>18,263 natural sentences from <em>British Conservative, Labour and Liberal Democrat</em> manifestos</li>
</ul></li>
</ul>
</section>
<section id="operation" class="slide level2">
<h2>Operation</h2>
<div class="panel-tabset">
<ul id="tabset-2" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-2-1">Coding</a></li><li><a href="#tabset-2-2">Results</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_crowd-sourced.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_crowd-sourced.jpg" class="quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
<aside class="notes">
<p>Figure 1: Hierarchical coding scheme for two policy domains with ordinal positioning.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
<div id="tabset-2-2">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_expert-crowd.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_expert-crowd.png" class="quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
<aside class="notes">
<p>Figure 2. British party positions on economic and social policy 1987 – 2010; sequential expert text processing (vertical axis) and independent expert surveys (horizontal).</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div>
</div>
</section>
<section id="illustration-iii" class="slide level2">
<h2>Illustration III</h2>
<p><span class="citation" data-cites="DietrichEtAl2019">Dietrich, Hayes, and O’Brien (<a href="#/references" role="doc-biblioref" onclick="">2019</a>)</span></p>
<ul>
<li>Objective
<ul>
<li>Speakers’ emotional state</li>
</ul></li>
<li>Method
<ul>
<li>Analyses of vocal pitch</li>
</ul></li>
<li>Data
<ul>
<li>74,158 Congressional floor speeches</li>
</ul></li>
</ul>
</section>
<section id="operation-1" class="slide level2">
<h2>Operation</h2>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_vocalPitch_hcy.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_vocalPitch_hcy.png" class="quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
<div class="fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_vocalPitch.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_vocalPitch.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="illustration-iv" class="slide level2">
<h2>Illustration IV</h2>
<p><span class="citation" data-cites="ZhangPan2019">Zhang and Pan (<a href="#/references" role="doc-biblioref" onclick="">2019</a>)</span></p>
<ul>
<li>Objective
<ul>
<li>Group activities from social media</li>
</ul></li>
<li>Method
<ul>
<li>CNN for images; CNN-RNN for texts</li>
</ul></li>
<li>Data
<ul>
<li>A random sample of 20,000 geocoded posts from Weibo, 2010–2017</li>
</ul></li>
</ul>
<aside class="notes">
<p>CNN: Convolutional Neural Network</p>
<p>RNN: Recurrent Neural Network</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="operation-2" class="slide level2">
<h2>Operation</h2>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_casm.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_casm.png" class="quarto-figure quarto-figure-center" width="1000"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_runningMan.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_runningMan.png" class="fragment quarto-figure quarto-figure-center"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_banner.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_banner.png" class="fragment quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
</div>
</section>
<section id="challenges" class="slide level2">
<h2>Challenges</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><em>Theory</em></p>
<ul>
<li>Single causal mechanism?
<ul>
<li>Intentional writing vs.&nbsp;measurement errors</li>
</ul></li>
</ul>
<p><em>Assumption</em></p>
<ul>
<li>A bag of words (elaborated later)</li>
</ul>
</div><div class="column" style="width:50%;">
<p><em>Data</em></p>
<ul>
<li>Unstructuralized data</li>
<li>Manifest and latent dimension reduction</li>
<li>Concept relations and context ignorance</li>
<li>DGP
<ul>
<li>Only posted</li>
<li>One-time censor?</li>
<li>Random sampling?</li>
</ul></li>
</ul>
</div><aside class="notes">
<p>审查已经使用 machine learning <span class="citation" data-cites="SuEtAl2020">Su et al. (<a href="#/references" role="doc-biblioref" onclick="">2020</a>)</span></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="wrap-it-up" class="slide level2">
<h2>Wrap it up</h2>
<ul>
<li>History of text-as-data
<ul>
<li>Long and short</li>
</ul></li>
<li>Text-as-data perspectives
<ul>
<li>Objective: language</li>
<li>Types</li>
</ul></li>
<li>Application
<ul>
<li>Text → audio, video</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="dgp-for-text-as-data" class="title-slide slide level1 center">
<h1>DGP for Text-As-Data</h1>

</section>
<section id="points-to-cover" class="slide level2">
<h2>Points to cover</h2>
<ol type="1">
<li>Where to find text resources?
<ol type="1">
<li>First-hand sources</li>
<li>Second-hand sources</li>
</ol></li>
<li>How to get text resources?</li>
<li>How to deal with text information?</li>
<li>What can text data do?</li>
</ol>
</section>
<section id="first-hand-sources" class="slide level2">
<h2>First-hand sources</h2>
<div style="text-align:center; margin-top: 2em">
<p><em>Text from authors</em></p>
<ul>
<li>Email/SMS</li>
<li>Website HTML</li>
<li>RSS feeds</li>
<li>Internet social media</li>
<li>Internet Forum</li>
<li>Network question and answer platform</li>
<li>Media database</li>
<li>Internet transaction behavior<br>
……</li>
</ul>
</div>
</section>
<section id="open-platforms" class="slide level2">
<h2>Open Platforms</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhongsheng_index.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhongsheng_index.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</section>
<section id="media-database" class="slide level2">
<h2>Media database</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_renminribao.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_renminribao.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</section>
<section id="e-government" class="slide level2">
<h2>E-Government</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_henan-Egovernment.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_henan-Egovernment.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</section>
<section id="social-media" class="slide level2">
<h2>Social Media</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_social-media.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_social-media.gif" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<aside class="notes">
<p>新浪微博1.4亿，微信用户5.5亿; 微信日增数据500TB，QQ日增数据200TB。</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="reddit" class="slide level2">
<h2>Reddit</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhihu.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhihu.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<aside class="notes">
<p>Quora, Stack Overflow</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="open-question" class="slide level2">
<h2>Open question</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_survey_openQuestion.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_survey_openQuestion.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</section>
<section id="second-hand-sources" class="slide level2">
<h2>Second-hand sources</h2>
<div style="text-align:center; margin-top: 2em">
<p><em>Text from archives</em></p>
<ul>
<li>CNKI and other databases (journals, newspapers, yearbooks, etc.)</li>
<li>Google Books, Baidu Scholar</li>
<li>Google Trend, Baidu Index</li>
<li>JSTOR Data for Research<br>
……</li>
</ul>
</div>
</section>
<section id="indicators" class="slide level2">
<h2>Indicators</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_baidu_zhishu.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_baidu_zhishu.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</section>
<section id="digitalized-documents" class="slide level2">
<h2>Digitalized documents</h2>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_hongkong_lib.png" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_hongkong_lib.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_cbdb.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_cbdb.png" class="fragment quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</div>
</section>
<section id="text-data-collection" class="slide level2">
<h2>Text data collection</h2>
<ul>
<li>First-hand: Spider/crawler/scraper</li>
<li>Second-hand: archive and digital database</li>
</ul>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_bazhuayu.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_bazhuayu.png" class="fragment quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_huochetou.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_huochetou.png" class="fragment quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseeker.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseeker.png" class="fragment quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</div>
</section>
<section id="scraper-operation" class="slide level2">
<h2>Scraper operation</h2>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseekerI.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseekerI.png" class="fragment quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseekerII.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseekerII.png" class="fragment quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseekerIII.png" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_gooseekerIII.png" class="fragment quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</div>
</section>
<section id="customized-scrapping" class="slide level2">
<h2>Customized Scrapping</h2>
<p><code>SelectorGadget</code> (Chrome add-in)</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhongsheng_page.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhongsheng_page.png" class="quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
</section>
<section id="scrapping-with-rvest" class="slide level2">
<h2>Scrapping with <code>rvest</code></h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href=""></a>ls_zhongsheng <span class="ot">&lt;-</span></span>
<span id="cb1-2"><a href=""></a>  <span class="fu">read_html</span>(<span class="st">"http://politics.people.com.cn/GB/8198/426918/index.html"</span>) <span class="sc">|&gt;</span> <span class="co"># index page</span></span>
<span id="cb1-3"><a href=""></a>  <span class="fu">html_nodes</span>(<span class="st">"h5 a"</span>) <span class="sc">|&gt;</span> <span class="co"># the nodes of the links</span></span>
<span id="cb1-4"><a href=""></a>  <span class="fu">html_attr</span>(<span class="st">"href"</span>) <span class="sc">|&gt;</span> <span class="co"># just the links</span></span>
<span id="cb1-5"><a href=""></a>  <span class="fu">str_replace</span>(<span class="st">"^/n1"</span>, <span class="st">"http://politics.people.com.cn/n1"</span>)</span>
<span id="cb1-6"><a href=""></a></span>
<span id="cb1-7"><a href=""></a>df_zhongsheng <span class="ot">&lt;-</span> <span class="fu">map_df</span>(ls_zhongsheng, <span class="cf">function</span>(link) {</span>
<span id="cb1-8"><a href=""></a>  zs_article <span class="ot">&lt;-</span> <span class="fu">read_html</span>(link, <span class="at">encoding =</span> <span class="st">"GB18030"</span>) <span class="co"># read the html</span></span>
<span id="cb1-9"><a href=""></a>  </span>
<span id="cb1-10"><a href=""></a>  zs_title <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(zs_article, <span class="st">"h1"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-11"><a href=""></a>    html_text</span>
<span id="cb1-12"><a href=""></a>  </span>
<span id="cb1-13"><a href=""></a>  zs_time <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(zs_article, <span class="st">".box01 .fl"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-14"><a href=""></a>    html_text <span class="sc">|&gt;</span></span>
<span id="cb1-15"><a href=""></a>    <span class="fu">str_extract</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">d{4}年</span><span class="sc">\\</span><span class="st">d{2}月</span><span class="sc">\\</span><span class="st">d{2}日"</span>)</span>
<span id="cb1-16"><a href=""></a>  </span>
<span id="cb1-17"><a href=""></a>  zs_content <span class="ot">&lt;-</span> <span class="fu">html_nodes</span>(zs_article, <span class="st">"#rwb_zw p"</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-18"><a href=""></a>    html_text <span class="sc">|&gt;</span></span>
<span id="cb1-19"><a href=""></a>    <span class="fu">str_c</span>(<span class="at">collapse =</span> <span class="st">""</span>) <span class="sc">|&gt;</span> <span class="co"># combined the paragraphs</span></span>
<span id="cb1-20"><a href=""></a>    <span class="fu">str_remove_all</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">s|</span><span class="sc">\\</span><span class="st">n|</span><span class="sc">\\</span><span class="st">t"</span>) <span class="co"># remove the horizontal spaces</span></span>
<span id="cb1-21"><a href=""></a>  </span>
<span id="cb1-22"><a href=""></a>  zs_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">title =</span> zs_title,</span>
<span id="cb1-23"><a href=""></a>                        <span class="at">time =</span> zs_time,</span>
<span id="cb1-24"><a href=""></a>                        <span class="at">content =</span> zs_content)</span>
<span id="cb1-25"><a href=""></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="regular-expression" class="slide level2">
<h2>Regular Expression</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_regular_expression.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_regular_expression.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</section>
<section id="structuralization" class="slide level2">
<h2>Structuralization</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhongsheng_output.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_zhongsheng_output.png" class="quarto-figure quarto-figure-center" width="1000"></a></p>
</figure>
</div>
</section>
<section id="wrap-it-up-1" class="slide level2">
<h2>Wrap it up</h2>
<ul>
<li>Source of text data
<ul>
<li>First-hand</li>
<li>Second-hand</li>
</ul></li>
<li>Data collection
<ul>
<li>First-hand: Scrapping
<ul>
<li>Foolproof software</li>
<li>Programming
<ul>
<li>Regular expression</li>
</ul></li>
</ul></li>
<li>Second-hand: Archives</li>
</ul></li>
<li>Structuralization</li>
</ul>
</section></section>
<section>
<section id="analyzing-text-data" class="title-slide slide level1 center">
<h1>Analyzing text data</h1>

</section>
<section id="an-classic-overview-grimmerstewart2013" class="slide level2">
<h2>An (Classic) Overview <span class="citation" data-cites="GrimmerStewart2013">(<a href="#/references" role="doc-biblioref" onclick="">Grimmer and Stewart 2013</a>)</span></h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_analysis-method.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_analysis-method.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</section>
<section id="level-of-analysis" class="slide level2">
<h2>Level of Analysis</h2>
<div style="text-align:center; margin-top: 2em">
<div class="fragment fade-in-then-semi-out">
<p><em>Description</em></p>
<p>Frequency, word cloud (👎), network</p>
</div>
<div class="fragment fade-in-then-semi-out">
<p><em>Classification</em></p>
<p>Supervised, unsupervised, self-supervised</p>
</div>
<div class="fragment">
<p><em>Semantics</em></p>
<p>Sentiment analysis, word embedding, word sequence, relationship</p>
</div>
</div>
</section>
<section id="tenet-of-text-as-data-analysis-grimmerstewart2013" class="slide level2">
<h2>Tenet of Text-as-data analysis <span class="citation" data-cites="GrimmerStewart2013">(<a href="#/references" role="doc-biblioref" onclick="">Grimmer and Stewart 2013</a>)</span></h2>
<div style="text-align:center; margin-top: 2em">
<ol type="1">
<li>All quantitative models of language are <span class="red">wrong</span>—but some are useful.</li>
<li>Quantitative methods for text amplify resources and <span class="red">augment humans</span>.</li>
<li>There is <span class="red">no globally best</span> method for automated text analysis.</li>
<li><span class="fragment highlight-blue">Validate, Validate, Validate.</span></li>
</ol>
</div>
</section>
<section id="unit-of-analysis" class="slide level2">
<h2>Unit of Analysis</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Corpus
<ul>
<li>Document (volumn, chapter, section)
<ul>
<li>Paragraph
<ul>
<li>Sentence <span class="green">✓</span>
<ul>
<li>Clause <span class="green">✓</span>
<ul>
<li><strong>Word (Unigram)</strong> <span class="green">✓</span>
<ul>
<li><strong>Token</strong> <span class="green">✓</span></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div><div class="column fragment" style="width:50%;">
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Token</strong></p>
</div>
<div class="callout-content">
<p>Sequence of linguistic features</p>
</div>
</div>
</div>
<ul>
<li>Token in a document: term</li>
<li>Token in a group: N-gram
<ul>
<li>A word = a Unigram</li>
</ul></li>
</ul>
</div>
</div>
</section>
<section id="unrealistic-assumption" class="slide level2">
<h2>Unrealistic Assumption</h2>
<blockquote>
<p>Where the “all models are wrong” starts</p>
</blockquote>
<div class="callout callout-important callout-style-simple">
<div class="callout-body">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-content">
<p><strong>Bag of words</strong> (BoW)</p>
<p>A text is represented as the bag (multiset) of its words.</p>
</div>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_bagOfWords.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_bagOfWords.png" class="fragment quarto-figure quarto-figure-center" height="300"></a></p>
</figure>
</div>
</section>
<section id="from-natural-language-to-computational-language" class="slide level2">
<h2>From natural language to computational language</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_bagOfWords2.jpg" class="lightbox" data-glightbox="description: .lightbox-desc-31" data-gallery="quarto-lightbox-gallery-31" title="Document-Term Matrix (DTM)"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_bagOfWords2.jpg" class="quarto-figure quarto-figure-center" height="600" alt="Document-Term Matrix (DTM)"></a></p>
<figcaption>Document-Term Matrix (DTM)</figcaption>
</figure>
</div>
<aside class="notes">
<p>In linguistics, the opposite of natural language is artificial/constructed language (conlangs), like Klingon in “Star Trek,” Dothraki in “Game of Thrones”</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="preprocessing" class="slide level2">
<h2>Preprocessing</h2>
<div style="text-align:center; margin-top: 2em">
<ul>
<li>Segmentation</li>
<li>Tokenization</li>
<li>Stopwords/function words removing<br>
</li>
<li>Other project-oriented wrangling</li>
</ul>
</div>
</section>
<section id="segmentation" class="slide level2">
<h2>Segmentation</h2>
<div class="columns">
<div class="column" style="width:30%;">
<p><em>Scriptio discreta</em> (e.g., English)</p>
<p>Document → paragraphs/sentences</p>
<aside class="notes">
<p>discrete script</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div><div class="column fragment" style="width:70%;">
<p><em>Scriptio continua</em> (e.g, CJK)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href=""></a><span class="fu">library</span>(jiebaR)</span>
<span id="cb2-2"><a href=""></a></span>
<span id="cb2-3"><a href=""></a>zhongsheng <span class="ot">&lt;-</span> <span class="st">"近年来，美国一些政客被“美国优先”遮住了双眼，大搞贸易保护主义、单边主义，肆意挥舞关税大棒，全然不顾中美两国人民和全世界人民的强烈反对。"</span></span>
<span id="cb2-4"><a href=""></a>cutter <span class="ot">&lt;-</span> <span class="fu">worker</span>() <span class="co"># segment engine</span></span>
<span id="cb2-5"><a href=""></a></span>
<span id="cb2-6"><a href=""></a><span class="fu">segment</span>(zhongsheng, cutter)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "近年来"   "美国"     "一些"     "政客"     "被"       "美国"    
 [7] "优先"     "遮住"     "了"       "双眼"     "大"       "搞"      
[13] "贸易"     "保护主义" "单边主义" "肆意"     "挥舞"     "关税"    
[19] "大棒"     "全然不顾" "中美"     "两国人民" "和"       "全世界"  
[25] "人民"     "的"       "强烈"     "反对"    </code></pre>
</div>
</div>
</div><aside class="notes">
<p>continuous script</p>
<p>《人民日报》（2019年05月30日02版）</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</section>
<section id="tokenization" class="slide level2">
<h2>Tokenization</h2>
<ul>
<li>Goal: Removing syntax</li>
<li>Removing: capitalization, punctuation, non-alphanumeric characters (@#$%……&amp;*), stop words</li>
</ul>
<div class="fragment">
<p>Examples of Stopwords*</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code> [1] "to"     "can"    "could"  "dare"   "do"     "did"    "does"   "may"   
 [9] "might"  "would"  "should" "must"   "will"   "ought"  "shall"  "need"  
[17] "is"     "a"      "am"     "are"    "about" </code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "一些"   "一何"   "一切"   "一则"   "一方面" "一旦"   "一来"   "一样"  
 [9] "一般"   "一转眼" "万一"   "上"     "上下"   "下"     "不"     "不仅"  
[17] "不但"   "不光"   "不单"   "不只"   "不外乎"</code></pre>
</div>
</div>
</div>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Stopwords sources for Chinese</strong></p>
</div>
<div class="callout-content">
<ul>
<li>百度停词表</li>
<li>哈工大停词表</li>
<li>网络搜集停词表，如<a href="https://blog.csdn.net/shijiebei2009/article/details/39696571">“最全中文停用词表整理（1893个）”</a></li>
</ul>
</div>
</div>
</div>
</div>
</section>
<section id="dimension-reduction" class="slide level2">
<h2>Dimension reduction</h2>
<blockquote>
<p>Issue: Sparse matrix</p>
</blockquote>
<ul>
<li>Lemmatization: (happy, happier, happiness) → happy</li>
<li>Stemming: (happy, happier, happiness) → happi</li>
</ul>
<div class="fragment">
<div class="callout callout-tip callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>More Examples</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Lemmization: (went, leaves, geese, unhappy) → (go, leaf, goose, unhappy)</li>
<li>Stemming: (went, leaves, geese, unhappy) → (went, leav, geese , unhappi)</li>
</ul>
</div>
</div>
</div>
</div>
<div class="fragment">
<ul>
<li>Labeling
<ul>
<li>Content vs.&nbsp;function</li>
<li>Linguistic features: n., v., adj., adv., prep., conj…….</li>
</ul></li>
</ul>
</div>
</section>
<section id="a-comprehensive-application" class="slide level2">
<h2>A comprehensive application</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/text_zhongsheng.png" class="lightbox" data-glightbox="description: .lightbox-desc-32" data-gallery="quarto-lightbox-gallery-32" title="2019-05-14 ~ 05-22: China-US trade war"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/text_zhongsheng.png" class="quarto-figure quarto-figure-center" height="600" alt="2019-05-14 ~ 05-22: China-US trade war"></a></p>
<figcaption>2019-05-14 ~ 05-22: China-US trade war</figcaption>
</figure>
</div>
</section>
<section id="data-collection" class="slide level2">
<h2>Data collection</h2>
<p><em>Raw Data</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href=""></a>df_zhongsheng <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="fu">url</span>(<span class="st">"http://103.238.162.29:10002/webdav/sammo3182/data/zhongsheng.RDS"</span>))</span>
<span id="cb6-2"><a href=""></a></span>
<span id="cb6-3"><a href=""></a>df_zhongsheng<span class="sc">$</span>segmented <span class="ot">&lt;-</span> <span class="fu">map_chr</span>(df_zhongsheng<span class="sc">$</span>content, <span class="cf">function</span>(content){</span>
<span id="cb6-4"><a href=""></a>  <span class="fu">segment</span>(content, cutter) <span class="sc">|&gt;</span> <span class="fu">paste</span>(<span class="at">collapse =</span> <span class="st">" "</span>)</span>
<span id="cb6-5"><a href=""></a>})</span>
<span id="cb6-6"><a href=""></a></span>
<span id="cb6-7"><a href=""></a>df_zhongsheng<span class="sc">$</span>phase <span class="ot">&lt;-</span> <span class="st">"US_fail"</span></span>
<span id="cb6-8"><a href=""></a>df_zhongsheng<span class="sc">$</span>phase[df_zhongsheng<span class="sc">$</span>time <span class="sc">&lt;=</span> <span class="st">"2019-05-22"</span>] <span class="ot">&lt;-</span> <span class="st">"theory_test"</span></span>
<span id="cb6-9"><a href=""></a>df_zhongsheng<span class="sc">$</span>phase[df_zhongsheng<span class="sc">$</span>time <span class="sc">&lt;=</span> <span class="st">"2019-05-11"</span>] <span class="ot">&lt;-</span> <span class="st">"reassessment"</span></span>
<span id="cb6-10"><a href=""></a>df_zhongsheng<span class="sc">$</span>phase[df_zhongsheng<span class="sc">$</span>time <span class="sc">&lt;=</span> <span class="st">"2019-05-08"</span>] <span class="ot">&lt;-</span> <span class="st">"optimism"</span></span>
<span id="cb6-11"><a href=""></a></span>
<span id="cb6-12"><a href=""></a></span>
<span id="cb6-13"><a href=""></a>df_token <span class="ot">&lt;-</span> df_zhongsheng <span class="sc">|&gt;</span> </span>
<span id="cb6-14"><a href=""></a>  <span class="fu">select</span>(<span class="sc">-</span>content) <span class="sc">|&gt;</span> </span>
<span id="cb6-15"><a href=""></a>  <span class="fu">unnest_tokens</span>(word, segmented) <span class="co"># tokenization</span></span>
<span id="cb6-16"><a href=""></a></span>
<span id="cb6-17"><a href=""></a><span class="co"># Show the word counts</span></span>
<span id="cb6-18"><a href=""></a><span class="fu">select</span>(df_token, <span class="sc">-</span>phase) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                           title       time word
1 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30   一
2 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30   场
3 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 经贸
4 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 摩擦
5 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30   让
6 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 世界</code></pre>
</div>
</div>
<div class="fragment">
<p><em>Removing the stopwords</em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href=""></a><span class="co"># removing the stop words</span></span>
<span id="cb8-2"><a href=""></a>df_stopWords <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">word =</span> <span class="fu">read_lines</span>(STOPPATH))</span>
<span id="cb8-3"><a href=""></a></span>
<span id="cb8-4"><a href=""></a>df_token <span class="ot">&lt;-</span> df_token <span class="sc">|&gt;</span> </span>
<span id="cb8-5"><a href=""></a>  <span class="fu">anti_join</span>(df_stopWords) </span>
<span id="cb8-6"><a href=""></a></span>
<span id="cb8-7"><a href=""></a><span class="fu">select</span>(df_token, <span class="sc">-</span>phase) <span class="sc">|&gt;</span> <span class="fu">head</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                                           title       time word
1 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30   场
2 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 经贸
3 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 摩擦
4 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 世界
5 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 看到
6 难道非要撞了南墙才回头——意孤行必将失败（钟声） 2019-05-30 一个</code></pre>
</div>
</div>
</div>
</section>
<section id="frequency-analysis" class="slide level2">
<h2>Frequency Analysis</h2>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href=""></a>df_plot <span class="ot">&lt;-</span> df_token <span class="sc">|&gt;</span> <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb10-2"><a href=""></a>  <span class="fu">filter</span>(n <span class="sc">&gt;</span> <span class="dv">151</span>) <span class="sc">|&gt;</span></span>
<span id="cb10-3"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n))</span>
<span id="cb10-4"><a href=""></a></span>
<span id="cb10-5"><a href=""></a><span class="fu">ggplot</span>(df_plot) <span class="sc">+</span></span>
<span id="cb10-6"><a href=""></a>  <span class="fu">geom_col</span>(<span class="fu">aes</span>(word, n)) <span class="sc">+</span></span>
<span id="cb10-7"><a href=""></a>  <span class="fu">ylab</span>(<span class="st">"Word Frequency"</span>) <span class="sc">+</span> </span>
<span id="cb10-8"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">20</span>)) <span class="sc">+</span></span>
<span id="cb10-9"><a href=""></a>  <span class="fu">coord_flip</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="01_theory_files/figure-revealjs/zhongsheng-frequency-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33"><img data-src="01_theory_files/figure-revealjs/zhongsheng-frequency-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="frequency-dynamics" class="slide level2">
<h2>Frequency Dynamics</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href=""></a>df_plot <span class="ot">&lt;-</span> df_token <span class="sc">|&gt;</span> </span>
<span id="cb11-2"><a href=""></a>  <span class="fu">group_by</span>(phase) <span class="sc">|&gt;</span> </span>
<span id="cb11-3"><a href=""></a>  <span class="fu">count</span>(word, <span class="at">sort =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb11-4"><a href=""></a>  <span class="fu">top_n</span>(<span class="dv">10</span>) <span class="sc">|&gt;</span></span>
<span id="cb11-5"><a href=""></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb11-6"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">word =</span> <span class="fu">reorder</span>(word, n),</span>
<span id="cb11-7"><a href=""></a>         <span class="at">word =</span> <span class="fu">factor</span>(word, <span class="at">levels =</span> <span class="fu">rev</span>(<span class="fu">unique</span>(word))))</span>
<span id="cb11-8"><a href=""></a></span>
<span id="cb11-9"><a href=""></a><span class="fu">ggplot</span>(df_plot, <span class="fu">aes</span>(word, n)) <span class="sc">+</span></span>
<span id="cb11-10"><a href=""></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb11-11"><a href=""></a>  <span class="fu">xlab</span>(<span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb11-12"><a href=""></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb11-13"><a href=""></a>  <span class="fu">ylab</span>(<span class="st">"Word FRequency"</span>) <span class="sc">+</span> </span>
<span id="cb11-14"><a href=""></a>  <span class="fu">theme</span>(<span class="at">axis.text =</span> <span class="fu">element_text</span>(<span class="at">size =</span> <span class="dv">12</span>)) <span class="sc">+</span></span>
<span id="cb11-15"><a href=""></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> phase, <span class="at">scales =</span> <span class="st">"free"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><a href="01_theory_files/figure-revealjs/zhongsheng-phase-freq-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img data-src="01_theory_files/figure-revealjs/zhongsheng-phase-freq-1.png" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>The Economist journalist Simon Rabinovitch</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="frequency-correlations" class="slide level2">
<h2>Frequency Correlations</h2>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href=""></a>frequency <span class="ot">&lt;-</span> df_token <span class="sc">|&gt;</span> </span>
<span id="cb12-2"><a href=""></a>  <span class="fu">count</span>(phase, word) <span class="sc">|&gt;</span></span>
<span id="cb12-3"><a href=""></a>  <span class="fu">group_by</span>(phase) <span class="sc">|&gt;</span></span>
<span id="cb12-4"><a href=""></a>  <span class="fu">mutate</span>(<span class="at">proportion =</span> n <span class="sc">/</span> <span class="fu">sum</span>(n)) <span class="sc">|&gt;</span> </span>
<span id="cb12-5"><a href=""></a>  <span class="fu">select</span>(<span class="sc">-</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb12-6"><a href=""></a>  <span class="fu">spread</span>(phase, proportion) <span class="sc">|&gt;</span> </span>
<span id="cb12-7"><a href=""></a>  <span class="fu">gather</span>(phase, proportion, optimism<span class="sc">:</span>theory_test)</span>
<span id="cb12-8"><a href=""></a></span>
<span id="cb12-9"><a href=""></a><span class="fu">library</span>(scales)</span>
<span id="cb12-10"><a href=""></a></span>
<span id="cb12-11"><a href=""></a><span class="co"># expect a warning about rows with missing values being removed</span></span>
<span id="cb12-12"><a href=""></a><span class="fu">ggplot</span>(frequency, <span class="fu">aes</span>(<span class="at">x =</span> proportion, <span class="at">y =</span> <span class="st">`</span><span class="at">US_fail</span><span class="st">`</span>, <span class="at">color =</span> <span class="fu">abs</span>(<span class="st">`</span><span class="at">US_fail</span><span class="st">`</span> <span class="sc">-</span> proportion))) <span class="sc">+</span></span>
<span id="cb12-13"><a href=""></a>  <span class="fu">geom_abline</span>(<span class="at">color =</span> <span class="st">"gray40"</span>, <span class="at">lty =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb12-14"><a href=""></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>, <span class="at">size =</span> <span class="fl">2.5</span>, <span class="at">width =</span> <span class="fl">0.3</span>, <span class="at">height =</span> <span class="fl">0.3</span>) <span class="sc">+</span></span>
<span id="cb12-15"><a href=""></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> word), <span class="at">check_overlap =</span> <span class="cn">TRUE</span>, <span class="at">vjust =</span> <span class="fl">1.5</span>, <span class="at">family =</span> <span class="st">"WenQuanYi Micro Hei"</span>) <span class="sc">+</span></span>
<span id="cb12-16"><a href=""></a>  <span class="fu">scale_x_log10</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb12-17"><a href=""></a>  <span class="fu">scale_y_log10</span>(<span class="at">labels =</span> <span class="fu">percent_format</span>()) <span class="sc">+</span></span>
<span id="cb12-18"><a href=""></a>  <span class="fu">scale_color_gradient</span>(<span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.001</span>), <span class="at">low =</span> <span class="st">"darkslategray4"</span>, <span class="at">high =</span> <span class="st">"gray75"</span>) <span class="sc">+</span></span>
<span id="cb12-19"><a href=""></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span>phase, <span class="at">ncol =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb12-20"><a href=""></a>  <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>) <span class="sc">+</span></span>
<span id="cb12-21"><a href=""></a>  <span class="fu">labs</span>(<span class="at">y =</span> <span class="st">"US Inevitable Failure"</span>, <span class="at">x =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb12-22"><a href=""></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">"WenQuanYi Micro Hei"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure>
<p><a href="01_theory_files/figure-revealjs/zhongsheng-fre-compare-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35"><img data-src="01_theory_files/figure-revealjs/zhongsheng-fre-compare-1.png" style="width:100.0%"></a></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>x = proportion, y = <code>US_fail</code></p>
<p>proportion = n / sum(n)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="keyword-analysis" class="slide level2">
<h2>Keyword analysis</h2>
<p>Keywords for articles published on 2019-05-07</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href=""></a>extractor_keyword <span class="ot">&lt;-</span> <span class="fu">worker</span>(<span class="st">"simhash"</span>, <span class="at">topn =</span> <span class="dv">5</span>)</span>
<span id="cb13-2"><a href=""></a></span>
<span id="cb13-3"><a href=""></a><span class="fu">simhash</span>(df_zhongsheng<span class="sc">$</span>content[df_zhongsheng<span class="sc">$</span>time <span class="sc">==</span> <span class="st">"2019-05-07"</span>], extractor_keyword)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$simhash
[1] "4937328317770165287"

$keyword
 101.845  62.3717   58.696  57.5996  53.6127 
  "增长"   "韧性"    "GDP" "一季度"   "经济" </code></pre>
</div>
</div>
<div class="fragment">
<p>Keywords for articles published on 2019-05-30</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href=""></a><span class="fu">simhash</span>(df_zhongsheng<span class="sc">$</span>content[df_zhongsheng<span class="sc">$</span>time <span class="sc">==</span> <span class="st">"2019-05-30"</span>], extractor_keyword)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$simhash
[1] "9551059633200593385"

$keyword
99.7583 56.3389 37.4295 35.7857 34.9402 
 "美国"  "政客"  "别国"  "国际"  "世界" </code></pre>
</div>
</div>
</div>
</section>
<section id="similarity-analysis" class="slide level2">
<h2>Similarity analysis</h2>
<p>Measuring the distance between texts</p>
<blockquote>
<p>Hamming distance: the distance between two strings of equal length is the number of <span class="blue">positions</span> at which the <span class="red">corresponding symbols are different</span>.</p>
</blockquote>
<div class="r-stack">
<p><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_hammingDis_org.png" class="quarto-figure quarto-figure-center"> <img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_hammingDis_comp.png" class="quarto-figure quarto-figure-center"></p>
</div>
<p>e.g., H(100→011) = 3; H(010→111) = 2.</p>
<aside class="notes">
<p>It measures the minimum number of substitutions required to change one string into the other, or the minimum number of errors that could have transformed one string into the other.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="application" class="slide level2">
<h2>Application</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><em>05-30 vs.&nbsp;05-<span class="red">22</span></em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href=""></a><span class="fu">distance</span>(df_zhongsheng<span class="sc">$</span>content[df_zhongsheng<span class="sc">$</span>time <span class="sc">==</span> <span class="st">"2019-05-30"</span>],</span>
<span id="cb17-2"><a href=""></a>         df_zhongsheng<span class="sc">$</span>content[df_zhongsheng<span class="sc">$</span>time <span class="sc">==</span> <span class="st">"2019-05-22"</span>],</span>
<span id="cb17-3"><a href=""></a>         extractor_keyword)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$distance
[1] 30

$lhs
99.7583 56.3389 37.4295 35.7857 34.9402 
 "美国"  "政客"  "别国"  "国际"  "世界" 

$rhs
171.456 135.966 123.366 114.446 93.1847 
 "磋商"  "美方"  "中方"  "背弃"  "倒退" </code></pre>
</div>
</div>
</div><div class="column" style="width:50%;">
<p><em>05-30 vs.&nbsp;05-<span class="red">23</span></em></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href=""></a><span class="fu">distance</span>(df_zhongsheng<span class="sc">$</span>content[df_zhongsheng<span class="sc">$</span>time <span class="sc">==</span> <span class="st">"2019-05-30"</span>],</span>
<span id="cb19-2"><a href=""></a>         df_zhongsheng<span class="sc">$</span>content[df_zhongsheng<span class="sc">$</span>time <span class="sc">==</span> <span class="st">"2019-05-23"</span>][<span class="dv">1</span>],</span>
<span id="cb19-3"><a href=""></a>         extractor_keyword)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>$distance
[1] 18

$lhs
99.7583 56.3389 37.4295 35.7857 34.9402 
 "美国"  "政客"  "别国"  "国际"  "世界" 

$rhs
   137.594    91.4451    63.4508    53.6785    37.6035 
    "规则"     "美国"     "美方"     "国际" "世贸组织" </code></pre>
</div>
</div>
</div>
</div>
</section>
<section id="beyond-bag-of-words" class="slide level2">
<h2>Beyond “Bag of Words”</h2>
<blockquote>
<p>Bring the context back</p>
</blockquote>
<ul>
<li>Analysis of function words (stopwords, parts of speech)</li>
<li>Neighbor words: Markov Model of Order N
<ul>
<li>Unigram: 清华 大学 政治 系</li>
<li>Bigram: 清华大学 政治系/清华 大学政治 系</li>
<li>Trigram：清华大学政治 系/清华 大学政治系</li>
</ul></li>
</ul>
</section>
<section id="frequency-to-weighted-frequency" class="slide level2">
<h2>Frequency to Weighted Frequency</h2>
<p>Cons of DTM</p>
<ol type="1">
<li>Not distinguish important words</li>
<li>Over-emphasize common words</li>
<li>Under-emphasize rare words</li>
</ol>
<p><span class="fragment">Solution: Word weights: e.g., term frequency-inverse document frequency (TF-IDF)</span></p>
</section>
<section id="word-weight" class="slide level2">
<h2>Word Weight</h2>
<ul>
<li>Pros:
<ol type="1">
<li>Identify important words</li>
<li>Reduces the weight of common words</li>
<li>Improve the performance of machine learning models</li>
</ol></li>
</ul>
<div class="fragment">
<ul>
<li>Cons:
<ol type="1">
<li>Assume independence of terms (same as DTM)</li>
<li>Give high weight to rare words that is very rare in the corpus but appears a few times in a particular document</li>
<li>Sensitive to the size and diversity of the corpus</li>
</ol></li>
</ul>
</div>
</section>
<section id="word-embedding" class="slide level2">
<h2>Word embedding:</h2>
<blockquote>
<p>Words’ meanings depend not just on immediate neighbors</p>
</blockquote>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_wordEmbedding.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36"><img data-src="http://103.238.162.29:10002/webdav/sammo3182/figure/theory_wordEmbedding.png" class="quarto-figure quarto-figure-center" height="550"></a></p>
</figure>
</div>
<aside class="notes">
<p>The term “embedding” comes from the neural network literature, in which an “embedding layer” is an input function that efficiently compresses high-dimensional data down to a low-dimensional dense representation for input to subsequent neural network layers.</p>
<ul>
<li>The embedding model GloVe (“Global Vectors”) by <span class="citation" data-cites="PenningtonEtAl2014">Pennington, Socher, and Manning (<a href="#/references" role="doc-biblioref" onclick="">2014</a>)</span> is explicitly designed to construct word vectors encoding local co-occurrence.</li>
<li>An equally influential word embedding model is Word2Vec <span class="citation" data-cites="BengioEtAl2000">(<a href="#/references" role="doc-biblioref" onclick="">Bengio, Ducharme, and Vincent 2000</a>)</span>, which treats each instance of a word and its context as a separate prediction problem that word vectors are chosen to solve.</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="topic-modeling" class="slide level2">
<h2>Topic modeling</h2>
<video width="1000" height="600" controls="" preload="">
<source src="http://103.238.162.29:10002/webdav/sammo3182/video/theory_topicModeling.webm" type="video/webm">
</video>
<aside class="notes">
<p>LSA, NMF, and LDA can also be viewed as producing word embeddings. In particular, the (V × K) matrix B from (2) contains a series of row vectors corresponding to each term in the vocabulary (see also Levy and Goldberg 2014). Those vectors contain information about word co-occurrence at the document level, rather than within a local context.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="attention-function" class="slide level2">
<h2>Attention Function</h2>
<blockquote>
<p>Word embedding weights all the words equally in the context<span class="large">🤦‍♂️</span></p>
</blockquote>
<div class="fragment fade-in-then-semi-out">
<p>“Attention is all you need” <span class="citation" data-cites="VaswaniEtAl2017">(<a href="#/references" role="doc-biblioref" onclick="">Vaswani et al. 2017</a>)</span></p>
<blockquote>
<p>As a leading firm in the [MASK] sector, we hire highly skilled software engineers.<br>
As a leading firm in the [MASK] sector, we hire highly skilled petroleum engineers.</p>
</blockquote>
<p>What should be filled into the “[MASK]”? How do you figure out?</p>
</div>
<div class="fragment">
<p>As a leading firm in the [<em>information technology</em>] sector, we hire highly skilled <span class="red">software</span> engineers.</p>
<p>As a leading firm in the [<em>energy</em>] sector, we hire highly skilled <span class="red">petroleum</span> engineers.</p>
</div>
</section>
<section id="word-sequence" class="slide level2">
<h2>Word Sequence</h2>
<div class="callout callout-note callout-titled callout-style-simple">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Self-attention function</strong></p>
</div>
<div class="callout-content">
<p>Take as input a sequence of initial token embeddings and outputs a sequence of new token embeddings that <span class="red">allow the initial embeddings to interact</span>.</p>
</div>
</div>
</div>
<ul>
<li>Massive neural networks composed of stacked attention and feed forward neural network layerscan be efficiently parallelized for training using specialized processors.
<ul>
<li>A.k.a., the <span class="red">Transformer</span></li>
</ul></li>
<li>Common transformer models
<ul>
<li>BERT
<ul>
<li>RoBERTa, PALM</li>
</ul></li>
<li>The <span class="red large">GPT</span> family</li>
</ul></li>
</ul>
</section>
<section id="wrap-it-up-2" class="slide level2">
<h2>Wrap it up</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>Principles
<ol type="1">
<li>All models are wrong</li>
<li>Aim for assist human</li>
<li>No best method</li>
<li>Validation, validation, validation</li>
</ol></li>
<li>Levels of analysis
<ul>
<li>Description</li>
<li>Classification</li>
<li>Semantics</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>Procedure
<ul>
<li>Preprocessing
<ul>
<li>Segmentation</li>
<li>Tokenization</li>
</ul></li>
<li>Frequency analysis
<ul>
<li>Frequency, dynamics, correlation</li>
<li>Keyword</li>
</ul></li>
<li>Similarity analysis</li>
<li>Semantic analysis
<ul>
<li>Word embedding, sequence
<ul>
<li>Topic modeling</li>
</ul></li>
</ul></li>
</ul></li>
</ul>
</div>
</div>
</section></section>
<section>
<section id="thank-you" class="title-slide slide level1 center" data-background="#43464B">
<h1>Thank you</h1>
<div style="text-align: right; margin-top: 1em">
<p><a href="https://user-images.githubusercontent.com/6463211/232207708-b0e64eee-7fb3-45a4-9779-ec52397f786c.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37"><img data-src="https://user-images.githubusercontent.com/6463211/232207708-b0e64eee-7fb3-45a4-9779-ec52397f786c.png" height="250"></a></p>
<p><a href="https://github.com/sammo3182"><svg viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"> <path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>&nbsp; sammo3182</a></p>
<p><a href="mailto:yuehu@tsinghua.edu.cn"><svg viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"> <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path> <polyline points="22,6 12,13 2,6"></polyline></svg>&nbsp; yuehu@tsinghua.edu.cn</a></p>
<p><a href="https://sammo3182.github.io/"><svg viewbox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="height:1em;position:relative;display:inline-block;top:.1em;" xmlns="http://www.w3.org/2000/svg"> <circle cx="12" cy="12" r="10"></circle> <line x1="2" y1="12" x2="22" y2="12"></line> <path d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"></path></svg>&nbsp; https://sammo3182.github.io/</a></p>
</div>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-BengioEtAl2000" class="csl-entry" role="listitem">
Bengio, Yoshua, Réjean Ducharme, and Pascal Vincent. 2000. <span>“<span>A neural probabilistic language model</span>.”</span> In <em><span>Advances in Neural Information Processing Systems</span></em>. Vol. 13. <span>MIT Press</span>. <a href="https://proceedings.neurips.cc/paper/2000/hash/728f206c2a01bf572b5940d7d9a8fa4c-Abstract.html">https://proceedings.neurips.cc/paper/2000/hash/728f206c2a01bf572b5940d7d9a8fa4c-Abstract.html</a>.
</div>
<div id="ref-BenoitEtAl2016" class="csl-entry" role="listitem">
Benoit, Kenneth, Drew Conway, Benjamin E. Lauderdale, Michael Laver, and Slava Mikhaylov. 2016. <span>“Crowd-Sourced Text Analysis: Reproducible and Agile Production of Political Data.”</span> <em>American Political Science Review</em> 110 (2): 278–95. <a href="https://doi.org/10.1017/S0003055416000058">https://doi.org/10.1017/S0003055416000058</a>.
</div>
<div id="ref-Coase1960" class="csl-entry" role="listitem">
Coase, R. H. 1960. <span>“The <span>Problem</span> of <span>Social Cost</span>.”</span> <em>The Journal of Law &amp; Economics</em> 56 (4): 837–77. <a href="https://doi.org/10.1086/674872">https://doi.org/10.1086/674872</a>.
</div>
<div id="ref-DietrichEtAl2019" class="csl-entry" role="listitem">
Dietrich, Bryce J., Matthew Hayes, and Diana Z. O’Brien. 2019. <span>“Pitch Perfect: Vocal Pitch and the Emotional Intensity of Congressional Speech.”</span> <em>American Political Science Review</em>, Forthcoming. <a href="http://www.brycejdietrich.com/files/working_papers/DietrichHayesOBrien.pdf">http://www.brycejdietrich.com/files/working_papers/DietrichHayesOBrien.pdf</a>.
</div>
<div id="ref-FriedmanSchwartz2008" class="csl-entry" role="listitem">
Friedman, Milton, and Anna Jacobson Schwartz. 2008. <em>A <span>Monetary History</span> of the <span>United States</span>, 1867-1960</em>. <span>Princeton University Press</span>.
</div>
<div id="ref-Grimmer2010" class="csl-entry" role="listitem">
Grimmer, Justin. 2010. <span>“A Bayesian Hierarchical Topic Model for Political Texts: Measuring Expressed Agendas in Senate Press Releases.”</span> <em>Political Analysis</em> 18 (1): 1–35. <a href="https://doi.org/10.1093/pan/mpp034">https://doi.org/10.1093/pan/mpp034</a>.
</div>
<div id="ref-GrimmerStewart2013" class="csl-entry" role="listitem">
Grimmer, Justin, and Brandon M. Stewart. 2013. <span>“Text as Data: The Promise and Pitfalls of Automatic Content Analysis Methods for Political Texts.”</span> <em>Political Analysis</em> 21 (3): 267–97.
</div>
<div id="ref-PenningtonEtAl2014" class="csl-entry" role="listitem">
Pennington, Jeffrey, Richard Socher, and Christopher Manning. 2014. <span>“<span>GloVe</span>: Global Vectors for Word Representation.”</span> In <em>Proceedings of the 2014 <span>Conference</span> on <span>Empirical Methods</span> in <span>Natural Language Processing</span> (<span>EMNLP</span>)</em>, 1532–43. <span>Doha, Qatar</span>: <span>Association for Computational Linguistics</span>. <a href="https://doi.org/10.3115/v1/D14-1162">https://doi.org/10.3115/v1/D14-1162</a>.
</div>
<div id="ref-SuEtAl2020" class="csl-entry" role="listitem">
Su, Yu-Sung, Yanqin Ruan, Siyu Sun, and Yu-Tzung Chang. 2020. <span>“A Pattern Recognition Framework for Detecting Changes in Chinese Internet Management System.”</span> <em>Journal of Social Computing</em> 1 (1): 28–39. <a href="https://doi.org/10.23919/JSC.2020.0004">https://doi.org/10.23919/JSC.2020.0004</a>.
</div>
<div id="ref-VaswaniEtAl2017" class="csl-entry" role="listitem">
Vaswani, Ashish, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin. 2017. <span>“Attention Is <span>All</span> You <span>Need</span>.”</span> In <em>Advances in <span>Neural Information Processing Systems</span></em>. Vol. 30. <span>Curran Associates, Inc.</span> <a href="https://proceedings.neurips.cc/paper_files/paper/2017/hash/3f5ee243547dee91fbd053c1c4a845aa-Abstract.html">https://proceedings.neurips.cc/paper_files/paper/2017/hash/3f5ee243547dee91fbd053c1c4a845aa-Abstract.html</a>.
</div>
<div id="ref-ZhangPan2019" class="csl-entry" role="listitem">
Zhang, Han, and Jennifer Pan. 2019. <span>“<span>CASM</span>: A Deep-Learning Approach for Identifying Collective Action Events with Text and Image Data from Social Media.”</span> <em>Sociological Methodology</em> 49 (1): 1–57. <a href="https://doi.org/10.1177/0081175019860244">https://doi.org/10.1177/0081175019860244</a>.
</div>
</div>
</section><div class="quarto-auto-generated-content">
<div class="footer footer-default">

</div>
</div></section>

    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="01_theory_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="01_theory_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/reveal-spotlight/spotlight.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="01_theory_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="01_theory_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'spotlight': {"size":50,"lockPointerInsideCanvas":false,"toggleSpotlightOnMouseDown":false,"spotlightOnKeyPressAndHold":73,"spotlightCursor":"none","presentingCursor":"default","initialPresentationMode":true,"disablingUserSelect":true,"fadeInAndOut":100,"useAsPointer":false,"pointerColor":"red"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, RevealSpotlight, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
              // target, if specified
              link.setAttribute("target", "_blank");
              if (link.getAttribute("rel") === null) {
                link.setAttribute("rel", "noopener");
              }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    <script>var lightboxQuarto = GLightbox({"loop":false,"closeEffect":"fade","selector":".lightbox","descPosition":"bottom","openEffect":"fade"});
    window.onload = () => {
      lightboxQuarto.on('slide_before_load', (data) => {
        const { slideIndex, slideNode, slideConfig, player, trigger } = data;
        const href = trigger.getAttribute('href');
        if (href !== null) {
          const imgEl = window.document.querySelector(`a[href="${href}"] img`);
          if (imgEl !== null) {
            const srcAttr = imgEl.getAttribute("src");
            if (srcAttr && srcAttr.startsWith("data:")) {
              slideConfig.href = srcAttr;
            }
          }
        } 
      });

      lightboxQuarto.on('slide_after_load', (data) => {
        const { slideIndex, slideNode, slideConfig, player, trigger } = data;
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(slideNode);
        }
      });

    };
              </script>
    

</body></html>