<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>数据可视化理论与实践</title>
    <meta charset="utf-8" />
    <meta name="author" content="胡悦" />
    <script src="02_dataVisualization_files/header-attrs-2.11/header-attrs.js"></script>
    <link href="02_dataVisualization_files/remark-css-0.0.1/default.css" rel="stylesheet" />
    <link href="02_dataVisualization_files/tile-view-0.2.6/tile-view.css" rel="stylesheet" />
    <script src="02_dataVisualization_files/tile-view-0.2.6/tile-view.js"></script>
    <link href="02_dataVisualization_files/tachyons-4.12.0/tachyons.min.css" rel="stylesheet" />
    <link href="02_dataVisualization_files/panelset-0.2.6/panelset.css" rel="stylesheet" />
    <script src="02_dataVisualization_files/panelset-0.2.6/panelset.js"></script>
    <script src="02_dataVisualization_files/js-cookie-3.0.0/js.cookie.js"></script>
    <script src="02_dataVisualization_files/peerjs-1.3.1/peerjs.min.js"></script>
    <script src="02_dataVisualization_files/tiny.toast-1.0.0/toast.min.js"></script>
    <link href="02_dataVisualization_files/xaringanExtra-broadcast-0.2.6/broadcast.css" rel="stylesheet" />
    <script src="02_dataVisualization_files/xaringanExtra-broadcast-0.2.6/broadcast.js"></script>
    <link href="02_dataVisualization_files/xaringanExtra-extra-styles-0.2.6/xaringanExtra-extra-styles.css" rel="stylesheet" />
    <script src="02_dataVisualization_files/kePrint-0.0.1/kePrint.js"></script>
    <link href="02_dataVisualization_files/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <link rel="stylesheet" href="zh-CN_custom.css" type="text/css" />
    <link rel="stylesheet" href="style_ui.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# 数据可视化理论与实践
## Learning Data Visualization with Dr. Hu
### 胡悦

---





## Overview

.pull-left[
.center[
### 统计可视化

+ 表 vs. 图
+ 统计可视化原则
+ 统计可视化操作
    + 一维
    + 二维
    + 多维
]    
]

--

.pull-right[
.center[
### 统计 vs/+ 信息

+ 可视化编码
+ 可视化通道
+ 色彩
]
]    

--

.center[
可视化操作实例
+ `ggplot2`应用实例
+ 描述、统计、网络、动图
]


???

苏毓崧老师的可视化教学：统计可视化，信息可视化界限分明；希望学生融合两者

我的教学：信息可视化应融入到统计可视化中去

---

class: small

## 可视化在“视”什么？

APSR，AJPS和PA 2006年五刊，发现如下结果&lt;sup&gt;\*&lt;/sup&gt;

.center[&lt;img src="images/vis_graphTable.png" alt="vis_graphTable.png" border="0" height = 300 /&gt;]


.center[如何可视化上表？]

.footnote[\* Kastellec, Jonathan P., and Eduardo L. Leoni. 2007. “Using Graphs Instead of Tables in Political Science.” *Perspectives on Politics* 5(4): 755–71.]

???

上面这个表想表达什么

 mathematical: formal modeling

---

class: bottom

background-image: url("images/vis_tableGraph.png")
background-position: center
background-size: contain

???

有人说很丑，但为什么画图专家喜欢这个？我门之后会回来讲

---

## 表不“香”么？

.pull-left[

### 表

* 容易制作
* 发表常见
* 有助后续
]

--

.pull-right[

### 图

* 制作费事（yysy...）
* “不精确”
* 形式不统一

]

???

表格焦点不统一，趋势不明显


---

## A Picture Is Worth a Thousand Words

.small[
Even before he became president, Mr Trump had **a history of controversial comments** about women. His comments in a 2005 Access Hollywood tape about grabbing women *"by the pussy"* are perhaps the most notorious, and made headlines in 2016....."The kind of things that he said about Hillary Clinton, Carly Fiorina, Elizabeth Warren, Heidi Cruz---the list goes on---he talks about women, any prominent, powerful woman, in the most DEMEANING of ways, trivializing them."
]

--

.center[&lt;img src="images/vis_trumpNastyWoman.gif" width = 700 /&gt;]

???

1. People care about things big, colorful, and moving.
1. 便于比较
1. 比表格占据较小的版面
1. 记忆深刻

Watch Donald Trump Call Hillary Clinton a 'Nasty Woman' --Ritu Prasad BBC
https://time.com/4537960/donald-trump-hillary-clinton-nasty-woman-debate/

---

## 可视化历史&lt;sup&gt;\*&lt;sup&gt;

.center[&lt;img src="images/vis_history.png" width = 1000 /&gt;]

.footnote[\* Friendly, Michael, and Howard Wainer. 2021. *A History of Data Visualization and Graphic Communication*. Harvard University Press.]

???



---

class: inverse, bottom

# 统计可视化研判

"听得准，才能读得对"

???

英语读音，可视化也是要知道什么是好图

---

## 如何可视化？

.center[
| 政党 	| 得票率 	|
|------	|--------	|
| A    	| 38     	|
| B    	| 34     	|
| C    	| 24     	|
| D    	| 4      	|
]

---

class: center, middle

## 饼状图?

.pull-left[

.panelset[

.panel[.panel-name[I]
&lt;img src="images/vis_pie1.png" height = 300 /&gt;
]

.panel[.panel-name[II]
&lt;img src="images/vis_pie2.png" height = 300 /&gt;
]

.panel[.panel-name[III]
&lt;img src="images/vis_pie3.png" height = 300 /&gt;
]

.panel[.panel-name[IV]
&lt;img src="images/vis_pie4.png" height = 300 /&gt;
]

.panel[.panel-name[V]
&lt;img src="images/vis_pie5.png" height = 300 /&gt;
]

.panel[.panel-name[VI]
&lt;img src="images/vis_pie6.png" height = 300 /&gt;
]

]

]

???

哪一块最大？橘红色？实际是绿色; 人类对于面积是尤为不敏感的。

标出数字呢……如果标出数据，那还要图干什么

3D圆饼图哪一个最大？更模糊，而且多了一个没有任何意义的维度

--

.pull-right[

| 政党 	| 得票率 	|
|------	|--------	|
| A    	| 38     	|
| B    	| 34     	|
| C    	| 24     	|
| D    	| 4      	|

]

---

## "Evil" Pie Chart

* 用于呈现数字就能呈现的东西
* 容易误导读者（人类对面积不敏感）
* 使用多种图形组成要素重复呈现同一种信息

垃圾图形（[junk chart](http://junkcharts.com)）之“冠”

???

在数据可视化的过程中，图形组成要素（颜色、符号、纹理、方向等）等很容易用完，因此要省着用

--

.center[
&lt;img src="images/vis_wordCloud.jpg" height = 350 /&gt;
]

???

词云相邻的词就会同时出现吗？比例多少

---

class: center, middle

## 统计可视化核心原则

.bg-black.golden.ba.shadow-5.ph4.mt3[
.center[.large[极简]]
]

Reference:
.small[
Tufte, Edward R. 2001[1983]. .red[The Visual Display of Quantitative Information]. 2nd edition. Cheshire, Conn: Graphics Press.   
Cleveland, William S. 1994. The Elements of Graphing Data. 2nd Edition. Murray Hill, N.J: Hobart Press.    
Wilkinson, Leland. 2005. The Grammar of Graphics. 2nd ed. New York: Springer-Verlag.
]

???

Edward Tufte，跨界政治学、统计学，可视化之父，该书为可视化圣经，手绘时代的产物，有点细节吹毛求疵，比如柱状图不能用tick呀之类的

---

## 一维数据可视化


.pull-left[

.center[
| 政党 	| 得票率 	|
|------	|--------	|
| A    	| 38     	|
| B    	| 34     	|
| C    	| 24     	|
| D    	| 4      	|

Beyond pie chart? How?
]
]

.pull-right[

.panelset[

.panel[.panel-name[Bar I]
&lt;img src="images/vis_barPlot1.png" height = 300 /&gt;
]

.panel[.panel-name[II]
&lt;img src="images/vis_barPlot2.png" height = 300 /&gt;
]

.panel[.panel-name[III]
&lt;img src="images/vis_barPlot3.png" height = 300 /&gt;
]

]

]

???

1. bar plot, 可以看出对比，但问题在哪里？（颜色没什么意义，宽度没意义，对不准）
1. 空bar
1. 点最简了，但信息量仍然比较小，可以加入更多信息

---

## 一维数可视化据

.pull-left[

如果非要饼状图

&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; Day &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Browse &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Monday &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 50 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Tuesday &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 60 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Wednesday &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 70 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Thursday &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Friday &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 90 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Saturday &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 110 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Sunday &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

.pull-right[

![](02_dataVisualization_files/figure-html/unnamed-chunk-1-1.png)&lt;!-- --&gt;

]

???

Nightingale Rose diagram, created by the famous Florence Nightingale

Good for time series,save space than bars

问题在于大小和突出代表同样信息

---

## 一维数据可视化+

.center[&lt;img src="images/vis_graphTable.png" height = 200 /&gt;
&lt;img src="images/vis_tableGraph.png" height = 300 /&gt;]

???

通过多图并列来增加表达维度，并且方便比较，share scales


---

background-image: url("images/vis_radiaPlot.png")
background-position: center
background-size: contain

???

更极致的方式，本质还是一维图

看似是中心边缘理论，但画面之外研究表明，并非如此。

---

## 如何可视化以下数据

和之前的数据有什么不同？想表达什么？

| Party 	| PRI  	| PAN  	| PRD  	| Others 	|
|-------	|------	|------	|------	|--------	|
| 1991  	| 64   	| 17.8 	| 8.2  	| 10     	|
| 1994  	| 60   	| 23.8 	| 14.2 	| 2      	|
| 1997  	| 47.8 	| 24.2 	| 25   	| 3      	|
| 2000  	| 42.2 	| 41.2 	| 10   	| 6.6    	|
| 2003  	| 44.8 	| 30.2 	| 19.4 	| 5.6    	|

.center[墨西哥各政党在大选中得票比例趋势]

--

怎么可视化？

???

二维数据，pri1997年遭遇拐点，pan增加

PRI: Institutional Revolutionary Party
PAN: National Action Party
PRD: Democratic Revolutionary Party

---

## 当然堆积图

.center[&lt;img src="images/vis_areaPlot.png" height = 500 /&gt;]


???

颜色问题：没有表达任何信息


---

## 当然堆积图……吧？

.center[&lt;img src="images/vis_areaPlot.png" height = 300 /&gt;]

--

+ 多种图像信息表达同类信息

--

+ 在各时间点上, 看不出比例关系，被面积模糊


???

PAN + PRD是不是超过PRI很难判断


---

## 如何可视化以下数据

.pull-left[
| Party 	| PRI  	| PAN  	| PRD  	| Others 	|
|-------	|------	|------	|------	|--------	|
| 1991  	| 64   	| 17.8 	| 8.2  	| 10     	|
| 1994  	| 60   	| 23.8 	| 14.2 	| 2      	|
| 1997  	| 47.8 	| 24.2 	| 25   	| 3      	|
| 2000  	| 42.2 	| 41.2 	| 10   	| 6.6    	|
| 2003  	| 44.8 	| 30.2 	| 19.4 	| 5.6    	|
]

--

.panelset[

.panel[.panel-name[Line Basic]
.center[&lt;img src="images/vis_linePlot.png" height = 350 /&gt;]
]

.panel[.panel-name[Line Advanced]
.center[&lt;img src="images/vis_linePlot2.png" height = 350 /&gt;]
]

]

???

Basic 版本legend比较多余，对打印不那么友好，当然对相加结果还是不是那么清楚

表达的是1997年墨西哥实现民主转型，不是一党执政

---

## 二维数据可视化：点状图

.panelset[

.panel[.panel-name[Point I]
.center[&lt;img src="images/vis_scatterPlot.png" height = 400 /&gt;]
]

.panel[.panel-name[Point II]
.center[&lt;img src="images/vis_scatterPlot2.png" height = 400 /&gt;]
]

.panel[.panel-name[Point III]
.center[&lt;img src="images/vis_facet.png" height = 400 /&gt;]
]

]

???

中产家庭收入越高，在劳动力市场投入越多

I. Stata 底色，是一个标志色，没数据意义，只是个brand； 点重叠——可以用空心圆

II. 让点变得有意义（在stata里不是那么容易做到，maybe）

III. 让图变得更有意义，地区变化是重要变量

---

## 如何可视化以下数据

和之前的数据有什么不同？想表达什么？（补习班有效吗？）

| 学生 	| 原始成绩 	| 补习班周数 	| 进步分数 	|
|------	|----------	|------------	|----------	|
| A    	| 712      	| 18         	| 100      	|
| B    	| 1105     	| 4          	| 57       	|
| C    	| 690      	| 7          	| 80       	|
| D    	| 687      	| 27         	| 191      	|
| E    	| 725      	| 2          	| 5        	|
| F    	| 1200     	| 25         	| 10       	|
| G    	| 470      	| 19         	| 25       	|
| H    	| 752      	| 10         	| 123      	|

--

怎么可视化？


---

## 气泡图

.pull-left[
.panelset[

.panel[.panel-name[Bubble I]
.center[&lt;img src="images/vis_bubblePlot.png" height = 350 /&gt;]
]

.panel[.panel-name[Bubble II]
.center[&lt;img src="images/vis_bubblePlot2.png" height = 350 /&gt;]
]

]
]

???

比表好，面积不好、颜色没意义

Bubble chart 图一对大小相近bubbles无法区分


--

.pull-right[

### Pro

* 散点图变异
* 通过气泡大小呈现第三维度数据



### Con

* 气泡大小当接近时可能造成辨识困难，信息无法完全精确地传达
]

---

class: inverse, bottom

# 统计可视化 vs./+ 信息可视化

---

## 可视化的作用

.pull-left[
* 记录信息
* 分析推理
* 证实假设
* 交流思想
]

--

.pull-right[&lt;img src="images/vis_socialEngineer.jpg" height = 400 /&gt;]

???

可视化就是让人关注到你想让他们关注的信息

---

.pull-left[
统计可视化

&lt;img src="images/vis_sexism_chart.jpg" height = 400 /&gt;
]

.pull-right[
信息可视化

&lt;img src="images/vis_sexism_image.jpg" height = 400 /&gt;

]

.center[哪个给你的印象更深?]

---

.pull-left[&lt;img src="images/vis_africanGDP_image.jpg" height = 400 /&gt;]
.pull-right[&lt;img src="images/vis_africanGDP_chart.jpg" height = 400 /&gt;]

???

怎么让右边变得更好？比如把人口放进去、把更多相关变量放进去

---

## 所以，就信息可视化呗？

.pull-left[&lt;img src="images/vis_femaleHi_image.png" height = 400 width = 400 /&gt;]

.pull-right[&lt;img src="images/vis_femaleHi_chart.png" height = 450 width = 400 /&gt;]

???

左图夸装了数据本意，indian太小了

https://junkcharts.typepad.com/junk_charts/2021/06/start-at-zero-improves-this-chart-but-only-slightly.html

---

class: inverse, center, middle

## 善用可视化编码

&lt;video width="1000" controls&gt;
  &lt;source src="images/vis_queensGambit.mp4" type="video/mp4"&gt;
&lt;/video&gt;

---

## （复习）数据类型

* 数值（continuous）
    + 10厘米，17厘米，23厘米
* 定序（ordinal）
    + 小，中，大
    + 周日，周一，周二……
* 定类（nominal）
    + 苹果，桔子，香蕉……

---

## 编码要素

**标记**：点、线、面

&lt;img src="images/vis_sign.png" height = 50 /&gt;

--

**通道**：位置、大小、形状、方向、色调、饱和度、亮度……

&lt;img src="images/vis_pipe.png" height = 100 /&gt;

---

## 通道

.pull-left[
&lt;img src="images/vis_category.png" height = 250 /&gt;
&lt;img src="images/vis_group.png" height = 250 /&gt;
]

.pull-right[
&lt;img src="images/vis_order.png" height = 500 /&gt;
]

---

## 通道选择

.pull-left[
### 类型（Type）

+ 是什么/在哪里（what/where）
+ 何种程度（how much）
]    

--

.pull-right[    
### 有效性（Effectiveness）
+ 通道表现力符合属性的重要性
]    

--

.center[
### 表现力（Expressiveness）

+ 表达且仅表达数据的完整属性
+ 判断标准（.red[ADSP]）：精确性、可辨性、可分离性、视觉突出
]

???

Accuracy, Discriminibility, Separability, Pop-out

---

### 精确性（Accuracy）

.center[&lt;img src="images/vis_stevensPowerLaw.png" height = 500 /&gt;]

???

刺激增加：

* 关注度敏感度降：点亮度、声音响度
* 关注度敏感度不变：线长度
* 关注度敏感度加：电流

psychophysicist Stanley Smith Stevens (1957, 1961)

`\(\displaystyle \psi (I)=kI^{a}\)`, k proportionality constant that depends on the units used

---

### 可辨性（Discriminability） 

.center[&lt;img src="images/vis_commuNet.png" height = 500 /&gt;]

???

通过粗细动态表现范围，精确性略显不足

---

background-image: url("images/vis_contract.png")
background-position: center
background-size: contain


---

### 可分离性（Separability）

.center[&lt;img src="images/vis_separability.png" height = 400 /&gt;]

???

都可以，但位置区别最好

---

.pull-left[
### 视觉突出（Pop-out）
]

.pull-right[
.center[&lt;img src="images/vis_popOut3.png" height = 600 width = 400 /&gt;]
]

---

## 视觉编码实践

.panelset[

.panel[.panel-name[Finding Os?]
.center[&lt;img src="images/vis_Os.png" height = 400 /&gt;]
]

.panel[.panel-name[Method I]
.center[&lt;img src="images/vis_Os3.png" height = 400 /&gt;]
]

.panel[.panel-name[Method II]
.center[&lt;img src="images/vis_Os2.png" height = 400 /&gt;]
]

]

---

## ADSP平衡

.center[&lt;img src="images/vis_measurement.png" height = 500 /&gt;]

???

是不是越精确越好？不一定……关键在我想让你看见什么，不想让你注意什么

---

## 核心原则：焦点引导

.center[&lt;img src="images/vis_picWorthWords.jpg" height = 550 /&gt;]

---

## 精确性上的Social Engineering

.pull-left[

&lt;img src="images/vis_lattice1.png" height = 500 /&gt;

]

.pull-right[

&lt;img src="images/vis_lattice2.png" height = 500 /&gt;

]

???

在研究过程中，一国之内，行政区域划分没有那么重要，除非policy，否则行政区划并不代表什么，有时候临近区域特点相近，建议用浅灰色，经纬线甚至可以不要

右边更是不需要网格

---

## 学术型吸睛：分组与分层

* 分组会对.red[大部分]任务有效
* 如果不能进行分组，则需要.red[转换]任务目标
* 避免.red[过多]类别
* 对数据的每个维度指定.red[一种]或一个阶层的颜色

???

转换任务目标: 使用其他可分组变量


---

background-image: url("images/vis_network_democracy.png")
background-position: center
background-size: contain

---

## 色彩编码

* 灰度值可被认为是有序的 

&lt;img src="images/vis_grey1.png" height = 50 /&gt;

* 可用于编码数值型数据

&lt;img src="images/vis_grey2.png" height = 50 /&gt;

* 色调通常认为是无序的，可用于编码不同维度的值

&lt;img src="images/vis_rainbow.png" height = 50 /&gt;

???

50度灰

---

## 色彩：一种主观感受

.center[&lt;img src="images/vis_colorMeaning.png" height = 500 /&gt;]

???

文化不同麦当劳红，中国红，股票红

---

## 色彩设计基本原则

+ 注意控制同时对比（Simultaneous contrast）
+ 避免.red[过多]颜色交错导致的杂乱无章
+ 注意.red[饱和度]

???

同时对比不能过多

控制低饱和度色彩中的色彩视觉突出

--

.pull-left[.center[&lt;img src="images/vis_redGreen_w.jpg" height = 400 /&gt;]]

--

.pull-right[&lt;img src="images/vis_redGreen_r.png" height = 400 /&gt;]

???

上海美术电影制片厂于1961年到1964年制作的一部彩色动画长片

+ 1962年获捷克斯洛伐克第十三届卡罗维发利电影节短片特别奖。
+ 1963年获第二届中国电影“百花奖”最佳美术片奖。
+ 1978年英国伦敦国际电影节本年度杰出电影。
+ 1980年5月第二次全国少年儿童文艺创作评奖委员会一等奖。
+ 1982年8月厄瓜多尔第四届国际儿童电影节三等奖。
+ 1983年获葡萄牙第十二届菲格腊达福兹国际电影节评委奖

---

+ 使用中性背景色

--

.pull-left[&lt;img src="images/vis_background_apple.jpg" height = 400 /&gt;]

.pull-right[&lt;img src="images/vis_background_huawei.jpeg" height = 400 /&gt;]


???

如果纯色为绿色，则灰色色块看起来带有红味,产生颜色偏差

---

## 调色板：`RColorBrewer` Package

### 主要code

`colorRampPalette(brewer.pal(&lt;num.&gt;, &lt;name of pallette&gt;))(n)`

### Alternative

`ggsci`: 包含Nature、Science等期刊配色（Check "Tron Legacy"）

`wesanderson`

`ggthemes`

`ggtech`

---

## Name of Palette

.pull-left[&lt;img src="images/vis_color_sequential.png" height = 500 width = 600 /&gt;]

.pull-right[
&lt;img src="images/vis_color_diverging.png" height = 250 width = 600 /&gt;
&lt;img src="images/vis_color_qualitative.png" height = 200 width = 600 /&gt;
]

---

## 对于新手

大部分作图软件默认配色已经非常好

--

如果非要较真，辅助软件来选择合适的色阶：

http://colorbrewer2.org/ 

http://paletton.com/

.center[.blue[请在颜色选择过程中体现你的人文关怀。]]

???

色盲症患者: 红绿色盲是最常见的色盲，其次是蓝黄色盲以及全色盲。北欧族裔的红绿色盲患者约占男性的8%和女性的0.5% (Northern European ancestry , National Eye Institute, 2015)

喜欢打印的人群

---

class: inverse, bottom

# 可视化操作实例
## 以`ggplot`为例

---

class: center, middle

## 可视化工具

Tableau (Echarts)   
Google Refine

Processing    
D3 (JS)   
.center[.Huge[.red[R]]]

???

Echarts：百度的Tableau高仿版本

上为软件，下为编程语言

---

## 一维图




```r
ggplot(data=mydata,aes(x = Cut, y = Price))+ 
  geom_bar(stat = "identity", width = 0.8,
           colour="black",size=0.25,fill="#2ca25f",alpha=1)
```

&lt;img src="02_dataVisualization_files/figure-html/plot-1D-1.png" style="display: block; margin: auto;" /&gt;

---

.pull-left[


```r
ggplot(data = mydata2, 
       aes(Catergory, value,
          {{fill = variable}})) +
  geom_bar(
    stat = "identity",
    color = "black",
    position = position_dodge(),
    width = 0.7,
    size = 0.25
  ) +
  drhutools::scale_fill_gb() +
  theme_minimal()+
  ylim(0, 10) +
  theme(
    axis.title = element_text(size = 15, face = "plain", color = "black"),
    axis.text = element_text(size = 12, face = "plain", color = "black"),
    legend.title = element_text(size = 14, face = "plain", color = "black"),
    legend.background  = element_blank(),
    legend.position = c(0.88, 0.88)
  )
```
]

.pull-right[
![](02_dataVisualization_files/figure-html/plot-1DII-1.png)&lt;!-- --&gt;
]

---
class: middle



.pull-left[
&lt;table&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt; car &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; id &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; value &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Math &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; English &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Biology &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Music &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; R-Coding &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 18 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; NA &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 12 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

.pull-right[
![](02_dataVisualization_files/figure-html/plot-radar-code-1.png)&lt;!-- --&gt;
]

---


```r
ggplot() + 
  geom_polygon(data=mydata,aes(x=id, y=value),color = "black", fill=brewer.pal(7,"Set1")[1],alpha=0.1)+
  geom_point(data=mydata,aes(x=id, y=value),size=5,shape=21,color = 'black', fill=brewer.pal(7,"Set1")[1])+
  `coord_radar`() +
  scale_x_continuous(breaks =label_data$id,labels=label_data$car)+
  ylim(0,22)+
  theme_light()+
  theme(axis.text.x=element_text(size = 11,colour="black",angle = myAngle))
```

---

## 二维图



.pull-left[

```r
ggplot(data = mydata, aes(x, y)) +
  `geom_point`(
    fill = "black",
    colour = "black",
    size = 3,
    shape = 21
  ) +
  `geom_smooth`(
    method = 'loess',
    span = 0.4,
    se = TRUE,
    colour = "#00A5FF",
    fill = "#00A5FF",
    alpha = 0.2
  ) + 
  scale_y_continuous(breaks = seq(0, 125, 25)) +
  theme(
    text = element_text(size = 15, color = "black"),
    plot.title = element_text(
      size = 15,
      family = "myfont",
      hjust = .5,
      color = "black"
    ),
    legend.position = "none"
  )
```

]

.pull-right[
![](02_dataVisualization_files/figure-html/plot-2D-1.png)&lt;!-- --&gt;
]

---

## 描述统计图

&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Unique (#) &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Missing (%) &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Mean &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; SD &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Min &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Median &lt;/th&gt;
   &lt;th style="text-align:right;"&gt; Max &lt;/th&gt;
   &lt;th style="text-align:right;"&gt;    &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; mpg &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 25 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 20.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 10.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 19.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 33.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.02" y="7.44" width="9.46" height="4.22" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="10.48" y="3.22" width="9.46" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="19.93" y="6.03" width="9.46" height="5.63" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="29.39" y="10.25" width="9.46" height="1.41" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="38.85" y="8.85" width="9.46" height="2.81" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; cyl &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.78" y="5.03" width="5.56" height="6.63" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="7.33" y="11.66" width="5.56" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="12.89" y="11.66" width="5.56" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="18.44" y="7.44" width="5.56" height="4.22" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="24.00" y="11.66" width="5.56" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="29.56" y="11.66" width="5.56" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="35.11" y="11.66" width="5.56" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="40.67" y="3.22" width="5.56" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; disp &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 27 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 230.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 123.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 71.1 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 196.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 472.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="-0.56" y="5.63" width="5.54" height="6.03" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="4.98" y="3.22" width="5.54" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="10.52" y="6.84" width="5.54" height="4.83" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="16.07" y="10.46" width="5.54" height="1.21" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="21.61" y="6.84" width="5.54" height="4.83" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="27.15" y="6.84" width="5.54" height="4.83" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="32.70" y="6.84" width="5.54" height="4.83" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="38.24" y="10.46" width="5.54" height="1.21" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="43.78" y="9.25" width="5.54" height="2.41" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; hp &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 146.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 68.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 52.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 123.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 335.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.46" y="4.06" width="7.85" height="7.60" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="9.32" y="3.22" width="7.85" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="17.17" y="6.60" width="7.85" height="5.07" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="25.02" y="7.44" width="7.85" height="4.22" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="32.87" y="10.82" width="7.85" height="0.84" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="40.73" y="10.82" width="7.85" height="0.84" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; drat &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="-3.55" y="8.85" width="10.24" height="2.81" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="6.69" y="5.33" width="10.24" height="6.33" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="16.93" y="3.22" width="10.24" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="27.17" y="7.44" width="10.24" height="4.22" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="37.42" y="10.96" width="10.24" height="0.70" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; wt &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 29 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.63" y="7.91" width="5.68" height="3.75" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="7.31" y="7.91" width="5.68" height="3.75" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="12.99" y="7.91" width="5.68" height="3.75" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="18.68" y="3.22" width="5.68" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="24.36" y="5.09" width="5.68" height="6.57" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="30.04" y="10.72" width="5.68" height="0.94" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="35.72" y="11.66" width="5.68" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="41.40" y="8.85" width="5.68" height="2.81" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; qsec &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 30 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 14.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 17.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 22.9 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="-0.87" y="9.97" width="5.29" height="1.69" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="4.42" y="9.13" width="5.29" height="2.53" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="9.71" y="8.28" width="5.29" height="3.38" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="15.01" y="3.22" width="5.29" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="20.30" y="6.60" width="5.29" height="5.07" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="25.59" y="8.28" width="5.29" height="3.38" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="30.88" y="9.97" width="5.29" height="1.69" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="36.17" y="11.66" width="5.29" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="41.46" y="10.82" width="5.29" height="0.84" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; vs &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.78" y="3.22" width="8.89" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="10.67" y="11.66" width="8.89" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="19.56" y="11.66" width="8.89" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="28.44" y="11.66" width="8.89" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="37.33" y="5.09" width="8.89" height="6.57" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; am &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.4 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.5 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.78" y="3.22" width="8.89" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="10.67" y="11.66" width="8.89" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="19.56" y="11.66" width="8.89" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="28.44" y="11.66" width="8.89" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="37.33" y="5.88" width="8.89" height="5.78" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; gear &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0.7 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 3.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 4.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 5.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.78" y="3.22" width="11.11" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="12.89" y="4.91" width="11.11" height="6.76" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="24.00" y="11.66" width="11.11" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="35.11" y="8.85" width="11.11" height="2.81" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; carb &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.8 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.6 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 1.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 2.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt; 8.0 &lt;/td&gt;
   &lt;td style="text-align:right;"&gt;  &lt;svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="svglite" width="48.00pt" height="12.00pt" viewBox="0 0 48.00 12.00"&gt;&lt;defs&gt;&lt;style type="text/css"&gt;
    .svglite line, .svglite polyline, .svglite polygon, .svglite path, .svglite rect, .svglite circle {
      fill: none;
      stroke: #000000;
      stroke-linecap: round;
      stroke-linejoin: round;
      stroke-miterlimit: 10.00;
    }
  &lt;/style&gt;&lt;/defs&gt;&lt;rect width="100%" height="100%" style="stroke: none; fill: none;"&gt;&lt;/rect&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw"&gt;&lt;rect x="0.00" y="0.00" width="48.00" height="12.00"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwwLjAwfDEyLjAw)"&gt;
&lt;/g&gt;&lt;defs&gt;&lt;clipPath id="cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw"&gt;&lt;rect x="0.00" y="2.88" width="48.00" height="9.12"&gt;&lt;/rect&gt;&lt;/clipPath&gt;&lt;/defs&gt;&lt;g clip-path="url(#cpMC4wMHw0OC4wMHwyLjg4fDEyLjAw)"&gt;&lt;rect x="1.78" y="3.22" width="6.35" height="8.44" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="8.13" y="10.17" width="6.35" height="1.49" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="14.48" y="6.69" width="6.35" height="4.97" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="20.83" y="11.66" width="6.35" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="27.17" y="11.17" width="6.35" height="0.50" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="33.52" y="11.66" width="6.35" height="0.00" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;rect x="39.87" y="11.17" width="6.35" height="0.50" style="stroke-width: 0.38; fill: #000000;"&gt;&lt;/rect&gt;&lt;/g&gt;&lt;/svg&gt;
&lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;


---

## 分析统计图

.pull-left[
&lt;table class="table" style="width: auto !important; margin-left: auto; margin-right: auto;"&gt;
 &lt;thead&gt;
  &lt;tr&gt;
   &lt;th style="text-align:left;"&gt;   &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Model 1 &lt;/th&gt;
   &lt;th style="text-align:center;"&gt; Model 2 &lt;/th&gt;
  &lt;/tr&gt;
 &lt;/thead&gt;
&lt;tbody&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; (Intercept) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 42.386 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 39.686 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (4.379) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (1.715) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; wt &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -3.392 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -3.191 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.821) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.757) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; cyl &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -1.528 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -1.508 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.420) &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; (0.415) &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; gear &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -0.523 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;box-shadow: 0px 1px"&gt;  &lt;/td&gt;
   &lt;td style="text-align:center;box-shadow: 0px 1px"&gt; (0.779) &lt;/td&gt;
   &lt;td style="text-align:center;box-shadow: 0px 1px"&gt;  &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Num.Obs. &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 32 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 32 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; R2 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.833 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.830 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; R2 Adj. &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.815 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 0.819 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; AIC &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 157.5 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 156.0 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; BIC &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 164.8 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 161.9 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; Log.Lik. &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -73.750 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; -74.005 &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
   &lt;td style="text-align:left;"&gt; F &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 46.527 &lt;/td&gt;
   &lt;td style="text-align:center;"&gt; 70.908 &lt;/td&gt;
  &lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
]

.pull-right[

```r
library(dotwhisker)
dwplot(list(m1, m2))
```

![](02_dataVisualization_files/figure-html/ols-dw-1.png)&lt;!-- --&gt;
]

---

## 网络图 (Complete Network)


```r
library(network) # for data
data(emon)
*library(ggnetwork)

ggplot(emon[[1]], aes(
  x = x,
  y = y,
  xend = xend,
  yend = yend
)) +
  `geom_edges`(arrow = arrow(length = unit(6, "pt"), type = "closed")) +
  `geom_nodes`(color = "tomato", size = 4)
```

---

&lt;img src="02_dataVisualization_files/figure-html/network-plot-1.png" style="display: block; margin: auto;" /&gt;

---

## 网络图 (Sankey/Alluvial)


```r
library(ggalluvial)
data(vaccinations)
levels(vaccinations$response) &lt;- rev(levels(vaccinations$response))

ggplot(vaccinations,
       aes(x = survey, stratum = response, alluvium = subject,
           y = freq,
           fill = response, label = response)) +
  scale_x_discrete(expand = c(.1, .1)) +
  `geom_flow()` +
  `geom_stratum(alpha = .5)` +
  geom_text(stat = "stratum", size = 3) +
  theme(legend.position = "none") +
  ggtitle("vaccination survey responses at three points in time")
```

---

&lt;img src="02_dataVisualization_files/figure-html/sankey-plot-1.png" style="display: block; margin: auto;" /&gt;

---

background-image: url("images/vis_patrioBase9709.gif")
background-position: center
background-size: contain

## gganimate

---

## Wrap Up


.pull-left[
.center[
### 统计可视化

+ 表 vs. 图： 图
+ 统计可视化原则：极简
+ 统计可视化操作
    + 一维：~~饼~~
    + 二维: ~~堆积~~
    + 多维
]    
]

--

.pull-right[
.center[
### 统计 vs/+ 信息

+ 可视化编码：按可视化目选择
+ 可视化通道：按数据类型组合
+ 色彩: 调色板选择
]
]    

--

.center[
可视化操作实例
+ 学一下R呗？
+ Learning R with Dr Hu and His Friends: Visualization
]

---

class: small

## 参考书

Cleveland, William S. 1985. *The Elements of Graphing Data*. 1st Printing edition. Monterey, Cal: Wadsworth, Inc.

Tufte, Edward R. 2001. *The Visual Display of Quantitative Information*. 2nd edition edition. Cheshire, Conn: Graphics Press.

Wilkinson, Leland. 2005. *The Grammar of Graphics*. 2nd ed. New York: Springer-Verlag.

张杰. 2019. 《R语言数据可视化之美：专业图表绘制指南》. 第1版. 电子工业出版社.


---


background-image: url("images/vis_powerWisely.jpg")
background-position: center
background-size: contain

---

class: inverse, center, middle

# Thank you!

&lt;i class="fa fa-envelope fa-lg"&gt;&lt;/i&gt;&amp;nbsp; [yuehu@tsinghua.edu.cn](mailto:yuehu@tsinghua.edu.cn)

&lt;i class="fa fa-globe fa-lg"&gt;&lt;/i&gt;&amp;nbsp; https://sammo3182.github.io/

&lt;i class="fab fa-github fa-lg"&gt;&lt;/i&gt;&amp;nbsp; [sammo3182](https://github.com/sammo3182)


    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github",
"highlightLines": true,
"highlightSpans": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
