<!DOCTYPE html>
<html lang="en"><head>
<script src="09_networkAnalysisII_files/libs/clipboard/clipboard.min.js"></script>
<script src="09_networkAnalysisII_files/libs/quarto-html/tabby.min.js"></script>
<script src="09_networkAnalysisII_files/libs/quarto-html/popper.min.js"></script>
<script src="09_networkAnalysisII_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="09_networkAnalysisII_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="09_networkAnalysisII_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="09_networkAnalysisII_files/libs/quarto-html/quarto-syntax-highlighting-da03d714c310c60cec1d83284c92da2c.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="09_networkAnalysisII_files/libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="09_networkAnalysisII_files/libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="09_networkAnalysisII_files/libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.7.17">

  <meta name="author" content="胡悦">
  <title>社会网络分析: 分析网络</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="09_networkAnalysisII_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="09_networkAnalysisII_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="09_networkAnalysisII_files/libs/revealjs/dist/theme/quarto-4e2d29b62bfdfd4d8736afce933ef20a.css">
  <link rel="stylesheet" href="https://www.drhuyue.site/slides_gh/css/style_basic.css">
  <link href="09_networkAnalysisII_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="09_networkAnalysisII_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="09_networkAnalysisII_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="09_networkAnalysisII_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" data-background-image="https://gitlab.com/sammo3182/backup/raw/85b3c1ad4b459d7a9f901f124b936428eda5fcaf/logo_THPS.png?inline=true" data-background-position="top 10% right 5%" data-background-size="250px" class="quarto-title-block center">
  <h1 class="title">社会网络分析: 分析网络</h1>
  <p class="subtitle">政务大数据应用与分析 (80700673)</p>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
胡悦 
</div>
        <p class="quarto-title-affiliation">
            清华大学社会科学学院
          </p>
    </div>
</div>

</section>
<section id="概要" class="slide level2 unnumbered">
<h2>概要</h2>
<div class="columns" style="text-align:center">
<div class="column" style="width:50%;">
<p><em>理解网络</em></p>
<p>目的：描述网络结构，识别网络特征</p>
<ul>
<li>网络方法论 ✓</li>
<li>网络要素 ✓</li>
<li>自我中心网络 ✓</li>
</ul>
</div><div class="column" style="width:50%;">
<p><em>分析网络</em></p>
<p>目的：揭示网络构成因素和原因</p>
<ul>
<li>邻居分析（“近景”）</li>
<li>扩散分析（“中景”）</li>
<li><span class="grayLight">全网分析（“远景”）*</span></li>
</ul>
</div></div>
</section>
<section>
<section id="邻居分析" class="title-slide slide level1 center" data-number="1">
<h1><span class="header-section-number">1</span> 邻居分析</h1>

</section>
<section id="邻居类型" class="slide level2" data-number="1.1">
<h2><span class="header-section-number">1.1</span> 邻居类型</h2>
<div class="large" style="text-align:center; margin-top: 3em">
<ol type="1">
<li>Dyads</li>
<li>Triads</li>
<li>Communities</li>
</ol>
</div>
</section>
<section id="dyads-distribution" class="slide level2" data-number="1.2">
<h2><span class="header-section-number">1.2</span> Dyads Distribution</h2>
<div class="columns">
<div class="column fragment" style="width:50%;">
<ol type="1">
<li>None: A &nbsp; B</li>
<li>Arc: A → B; B ← C</li>
<li>Reciprocal: A ↔︎ B</li>
</ol>
</div><aside class="notes">
<p>Arc is a directed edge</p>
<p>Both are using the described the same phenomenon</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside><div class="column fragment" style="width:50%;">
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_arc.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_arc.png" height="400"></a></p>
</div></div>
<div class="columns">
<div class="column fragment" style="width:50%;">
<ul>
<li>Dyadic: <span class="math display">\[R = \frac{\#Reciprocated\ Pairs}{\# Connected\ Pairs}\]</span></li>
</ul>
</div><div class="column fragment" style="width:50%;">
<ul>
<li>Arc: <span class="math display">\[R = \frac{\#Reciprocated\ Arcs}{\# Total\ Arcs}\]</span></li>
</ul>
</div></div>
</section>
<section id="triads" class="slide level2" data-number="1.3">
<h2><span class="header-section-number">1.3</span> Triads</h2>
<p>A、B、C三方，存在几种建立关系的方式?</p>
<div class="fragment" style="text-align:center">
<p>(2<sup>2</sup>)<sup>3</sup> = 64</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_triads.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Triad census, @PrellSkvoretz2008, fig.&nbsp;1"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_triads.gif" class="quarto-figure quarto-figure-center" height="500" alt="Triad census, Prell and Skvoretz (2008), fig.&nbsp;1"></a></p>
</figure>
</div>
<figcaption>Triad census, <span class="citation" data-cites="PrellSkvoretz2008">Prell and Skvoretz (<a href="#/参考文献" role="doc-biblioref" onclick="">2008</a>)</span>, fig.&nbsp;1</figcaption>
</figure>
</div>
</div>
</section>
<section id="transitive-triads" class="slide level2" data-number="1.4">
<h2><span class="header-section-number">1.4</span> Transitive Triads</h2>
<p>A→B→C + A→C</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_triadsTrans.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="@PrellSkvoretz2008, fig.&nbsp;1"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_triadsTrans.png" class="quarto-figure quarto-figure-center" height="550" alt="Prell and Skvoretz (2008), fig.&nbsp;1"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="PrellSkvoretz2008">Prell and Skvoretz (<a href="#/参考文献" role="doc-biblioref" onclick="">2008</a>)</span>, fig.&nbsp;1</figcaption>
</figure>
</div>
</section>
<section id="vacuous-triads" class="slide level2" data-number="1.5">
<h2><span class="header-section-number">1.5</span> Vacuous Triads</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_triadsVac.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="@PrellSkvoretz2008, fig.&nbsp;1"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_triadsVac.png" class="quarto-figure quarto-figure-center" height="550" alt="Prell and Skvoretz (2008), fig.&nbsp;1"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="PrellSkvoretz2008">Prell and Skvoretz (<a href="#/参考文献" role="doc-biblioref" onclick="">2008</a>)</span>, fig.&nbsp;1</figcaption>
</figure>
</div>
<aside class="notes">
<p>/v’ækjuəs/</p>
<p>No feature a directed path</p>
<p>Used to study social capital: closure (all nodes are reciprocal) and brokerage</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="dyads-in-triads" class="slide level2" data-number="1.6">
<h2><span class="header-section-number">1.6</span> Dyads in triads</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_taoyuan.jpeg" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_taoyuan.jpeg" class="quarto-figure quarto-figure-center" height="400"></a></p>
</figure>
</div>
<ul>
<li>Simmelian tie: Dyads 同时与第三方有互惠关系
<ul>
<li>Dyads more stable when embedded in triads</li>
</ul></li>
</ul>
</section>
<section id="应用" class="slide level2" data-number="1.7">
<h2><span class="header-section-number">1.7</span> 应用</h2>
<p>定义网络结构<span class="red">平衡</span>（Structural Balance）</p>
<div class="r-stack">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_structuralBalance.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="@MaozEtAl2007"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_structuralBalance.jpg" class="fragment quarto-figure quarto-figure-center" height="550" alt="Maoz et al. (2007)"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="MaozEtAl2007">Maoz et al. (<a href="#/参考文献" role="doc-biblioref" onclick="">2007</a>)</span></figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_structuralBalance.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_structuralBalance.png" class="fragment quarto-figure quarto-figure-center" height="550"></a></p>
</figure>
</div>
</div>
<aside class="notes">
<p>The enemy of my enemy is my friends.</p>
<p>过往186年中，IR充满了imbalance, 友之敌为友，友by alliances, 敌military disputes</p>
<p>Realistic factors increase imbalance: strategic rivalry, opportunism and exploitative tendencies, capability parity, and contiguity</p>
<p>Liberal factors reduce it: joint democracy, economic interdependence, shared IGO membership</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="community-beyond-k-ads" class="slide level2" data-background-image="https://drhuyue.site:10002/sammo3182/figure/sna_smallWorld_disney.jpg" data-background-position="center" data-background-size="contain" data-number="1.8">
<h2><span class="header-section-number">1.8</span> Community: Beyond k-ads</h2>
<div class="overlay-container">
<div class="overlay-image fragment">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_smallWorld.bmp" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="小世界, @KlovdahlEtAl1994"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_smallWorld.bmp" class="quarto-figure quarto-figure-center" height="600" alt="小世界, Klovdahl et al. (1994)"></a></p>
</figure>
</div>
<figcaption>小世界, <span class="citation" data-cites="KlovdahlEtAl1994">Klovdahl et al. (<a href="#/参考文献" role="doc-biblioref" onclick="">1994</a>)</span></figcaption>
</figure>
</div>
</div>
<div class="overlay-text-over fragment">
<ul>
<li>695 人</li>
<li>平均距离为大约5步</li>
<li>平均每人3步内就能覆盖75个其他人</li>
</ul>
</div>
</div>
<aside class="notes">
<p>Disneyland: it’s a small world</p>
<p>超越strong, presented ties，小世界网络是一类特殊的复杂网络结构，在这种网络中大部分的节点彼此并不相连，但绝大部分节点之间经过少数几步就可到达，比如六度空间理论（实际可能在2左右，最长不过8）</p>
<p><strong>Reachability in Colorado Springs</strong></p>
<ul>
<li>Epidemic Potential in Human Sexual Networks</li>
<li>sexual contact only, STD</li>
<li>High-risk actors over 4 years</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="定义社群" class="slide level2" data-number="1.9">
<h2><span class="header-section-number">1.9</span> 定义社群</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/exampleData-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img data-src="09_networkAnalysisII_files/figure-revealjs/exampleData-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
<div class="columns" style="text-align:center">
<div class="column fragment" style="width:50%;">
<p>Top Down:</p>
<p>Cores → factions → modularity</p>
</div><div class="column fragment" style="width:50%;">
<p>Bottom Up:</p>
<p>Cliques → n-cliques → n-clans</p>
</div></div>
</section>
<section id="k-core" class="slide level2" data-number="1.10">
<h2><span class="header-section-number">1.10</span> (K-)Core</h2>
<p>The k-core of a network graph G is the maximal subgraph H ⊆ G in which all vertices have degree at least k</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_kcore.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_kcore.png" class="quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
<aside class="notes">
<p>https://www.youtube.com/watch?v=rHVrgbc_3JA</p>
<p><img src="https://drhuyue.site:10002/sammo3182/figure/sna_kcoresSolution.png" height="300"></p>
<p>每个人都与其他若干人相连</p>
<p>4-core is the null graph of the original graph or DNE (does not exist)</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="faction" class="slide level2" data-number="1.11">
<h2><span class="header-section-number">1.11</span> Faction</h2>
<blockquote>
<p>邻国相望，鸡犬之声相闻，民至老死，不相往来。 <span class="citation" data-cites="WangBiLouYuLie2011">(<a href="#/参考文献" role="doc-biblioref" onclick="">王弼 and 楼宇烈 2011</a>)</span></p>
</blockquote>
<div class="columns" style="text-align:center; margin-top: 2em">
<div class="column fragment" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_faction.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_faction.png" class="quarto-figure quarto-figure-center" height="400"></a></p>
</figure>
</div>
</div><aside class="notes">
<p>组内紧密连结，无跨组连结。</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside><div class="column fragment" style="width:50%;">
<ul>
<li>实现：Arranging actors to resemble the ideal as closely as possible.</li>
<li>步骤：
<ol type="1">
<li>Partition</li>
<li>Evaluation</li>
<li>Moving</li>
<li>Evaluation, again</li>
<li>Repeat</li>
</ol></li>
</ul>
</div></div>
<aside class="notes">
<ul>
<li>Partition the network</li>
<li>Evaluate how good the partition is</li>
<li>Move some actors from one group to another</li>
<li>See if there’s improvement</li>
<li>Keep repeating the above steps until further improvement is impossible</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="辨别社群-unsupervised" class="slide level2" data-number="1.12">
<h2><span class="header-section-number">1.12</span> 辨别社群 （unsupervised）</h2>
<p>Aka., Cluster analysis</p>
<div class="columns" style="text-align:center">
<div class="column fragment" style="width:50%;">
<p>Non-hierarchical</p>
<div class="overlay-container">
<div class="overlay-image">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_agglomerative.bmp" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_agglomerative.bmp" class="quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
</div>
<div class="overlay-text-over fragment">
<ul>
<li>Centroid-based</li>
<li>Model-based</li>
<li>Density-based</li>
<li>Grid-based</li>
</ul>
</div>
<aside class="notes">
<p>k-mean 是一种centroid-based方法</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div><div class="column fragment" style="width:50%;">
<p>Hierarchical</p>
<div class="overlay-container">
<div class="overlay-image">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_divisive.bmp" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_divisive.bmp" class="quarto-figure quarto-figure-center" height="500"></a></p>
</figure>
</div>
</div>
<div class="overlay-text-over fragment">
<ul>
<li>Agglomerative</li>
<li>Divisive</li>
</ul>
</div>
</div>
</div></div>
</section>
<section id="社群特征内聚性-cohesion" class="slide level2" data-number="1.13">
<h2><span class="header-section-number">1.13</span> 社群特征：内聚性 (cohesion)</h2>
<p>A.k.a., 凝聚力</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_cohesiveII.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14" title="连结与可达"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_cohesiveII.png" class="quarto-figure quarto-figure-center" height="500" alt="连结与可达"></a></p>
</figure>
</div>
<figcaption>连结与可达</figcaption>
</figure>
</div>
<aside class="notes">
<p>由一点到其他点paths越多可达性越高</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="最小内聚性" class="slide level2" data-number="1.14">
<h2><span class="header-section-number">1.14</span> 最小内聚性</h2>
<div class="columns" style="text-align:center; margin-top: 2em">
<div class="column fragment" style="width:50%;">
<p>高 ⇒</p>
<ul>
<li>权力集中</li>
<li>信息集中</li>
<li>不平等</li>
<li>个体行为影响大</li>
<li>碎片化结构</li>
</ul>
</div><div class="column fragment" style="width:50%;">
<p>低 ⇒</p>
<ul>
<li>权力分散</li>
<li>信息透明</li>
<li>平等</li>
<li>个体行为难以撼动结构</li>
<li>均衡结构</li>
</ul>
</div></div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_minimalCohesion.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_minimalCohesion.png" class="fragment quarto-figure quarto-figure-center" height="300"></a></p>
</figure>
</div>
<aside class="notes">
<p>Minimal cohesion: without that node, the network will break apart</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="modularity" class="slide level2" data-number="1.15">
<h2><span class="header-section-number">1.15</span> Modularity</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_moduality.png" class="lightbox" data-gallery="quarto-lightbox-gallery-16"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_moduality.png" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<aside class="notes">
<p>比起识别出群体，更关注社群如何<span class="red">组成</span>社会。</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="应用-1" class="slide level2" data-number="1.16">
<h2><span class="header-section-number">1.16</span> 应用</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_languageIdentity.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17" title="@TamburriniEtAl2015"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_languageIdentity.png" class="quarto-figure quarto-figure-center" height="600" alt="Tamburrini et al. (2015)"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="TamburriniEtAl2015">Tamburrini et al. (<a href="#/参考文献" role="doc-biblioref" onclick="">2015</a>)</span></figcaption>
</figure>
</div>
<aside class="notes">
<p>modularity maximization algorithm</p>
<p>word-usage frequencies (solid bars at the top of eachplot),<br>
word-ending frequencies (slashed bars in the middle)<br>
apostrophe (/əp’ɒstrəfi/) usage (crossed bars at the bottom).</p>
<ol type="1">
<li>人们根据自己的community改变语言特征</li>
<li>communities越独立，语言特征越明显</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="小结" class="slide level2" data-number="1.17">
<h2><span class="header-section-number">1.17</span> 小结</h2>
<ul>
<li>邻近点关系: dyads, triads</li>
<li>社群关系：
<ul>
<li>Core/faction</li>
<li>辨识社群
<ul>
<li>Hierarchical/non-hierarchical</li>
</ul></li>
<li>Modularity</li>
</ul></li>
</ul>
</section></section>
<section>
<section id="扩散分析" class="title-slide slide level1 center" data-number="2">
<h1><span class="header-section-number">2</span> 扩散分析</h1>

</section>
<section id="分析对象" class="slide level2" data-number="2.1">
<h2><span class="header-section-number">2.1</span> 分析对象</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_covid19difussion.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-18"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_covid19difussion.gif" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
<div style="text-align:center">
<ol type="1">
<li>谁是“始作俑者” vis-a-vis “第一个吃螃蟹的人”</li>
<li>扩散过程是谁影响了谁</li>
<li>（事件、法律、政策、习惯 etc.）采用的时间</li>
</ol>
</div>
</section>
<section id="分析视角" class="slide level2" data-number="2.2">
<h2><span class="header-section-number">2.2</span> 分析视角</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_diffusionQ.png" class="lightbox" data-gallery="quarto-lightbox-gallery-19" title="@WuEtAl2018, fig.&nbsp;1"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_diffusionQ.png" class="quarto-figure quarto-figure-center" height="400" alt="Wu et al. (2018), fig.&nbsp;1"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="WuEtAl2018">Wu et al. (<a href="#/参考文献" role="doc-biblioref" onclick="">2018</a>)</span>, fig.&nbsp;1</figcaption>
</figure>
</div>
<ul>
<li>联系网络（Contact network）：“Patient 0”（P0）效应: 谁接触了P0，最终感染了谁</li>
<li>暴露网络（Exposure network）：联系网络的子集，谁是易感人群</li>
<li>传动网络 (Transmission network)：传播（传递）路径究竟是怎样的</li>
</ul>
<aside class="notes">
<p>How network exposure works in a diffusion process. The first 2 rows show the evolution of an adoption process on an example network, starting with a seed labeled 1. The numbered circles denote the order of adoption, and arrows represent transmission of the innovation. The time just after the ith adoption is denoted as urn:x-wiley:sim:media:sim7658:sim7658-math-0012. Light gray lines and circles are susceptible edges and individuals at the moment of each adoption, respectively. The last 4 lines show how the total hazard/exposure of adoption felt by susceptible individuals changes over time, assuming constant edgewise hazards. The exposure increases one step whenever the number of prior adopters connected to the individual increases. The shaded area under each subject’s curve is the cumulative exposure experienced by that subject</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="应用门槛效应" class="slide level2" data-number="2.3">
<h2><span class="header-section-number">2.3</span> 应用：门槛效应</h2>
<div class="columns" style="text-align:center; margin-top: 2em">
<div class="column" style="width:70%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_exposure.png" class="lightbox" data-gallery="quarto-lightbox-gallery-20" title="@Valente1996"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_exposure.png" class="quarto-figure quarto-figure-center" height="600" alt="Valente (1996)"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="Valente1996">Valente (<a href="#/参考文献" role="doc-biblioref" onclick="">1996</a>)</span></figcaption>
</figure>
</div>
</div><aside class="notes">
<p>exposure：按时间adopt</p>
<p>Threshold: Early adopter, early majority, late majority, laggards.</p>
<p>个体网络与全网角度理解threshold</p>
<p>Fig. l(a) shows a typical personal network for a doctor (from Peoria, identification number 20) who was connected to five people: two friends, two discussion partners and one advice partner. Fig. l(b) shows the same personal network 3 months later, when the two discussion partners had adopted tetracycline. Now the individual doctor is exposed to the innovation through his/her personal network partners. The degree of exposure is computed by dividing the number of adopters, 2, by the total size of the personal network, 5. Thus, the degree of exposure to the innovation is 40% for this doctor at time-period 3. In Fig. l(d), the individual doctor adopts at time-period 8 when all of his/her network partners have adopted. The adoption threshold is the exposure at timeof- adoption. In this example, the doctor adopted tetracycline after all of the other doctors in his/her network adopted. at a threshold of 100%. The proportion of adopters in an individual’s personal network</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside><div class="column fragment" style="width:30%;">
<p>基于网络的分析可以：</p>
<ul>
<li>多样化对行为蔓延（behavioral contagion）的定义</li>
<li>预测蔓延趋势</li>
<li>识别始作俑者和跟从者</li>
</ul>
</div></div>
</section>
<section id="扩散机制" class="slide level2" data-number="2.4">
<h2><span class="header-section-number">2.4</span> 扩散机制</h2>
<div class="columns">
<div class="column fragment" style="width:20%;">
<p><strong>主动机制</strong></p>
<ul>
<li>学习</li>
<li>竞争</li>
<li>认同</li>
</ul>
</div><div class="column fragment" style="width:30%;">
<p><strong>被动机制</strong></p>
<ul>
<li>Common shock</li>
<li>Homophily</li>
<li>Strategic interaction</li>
</ul>
</div><div class="column fragment" style="width:50%;">
<p>🌰</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_diffusionFlorida.png" class="lightbox" data-gallery="quarto-lightbox-gallery-21" title="@DesmaraisEtAl2015, tbl. 2"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_diffusionFlorida.png" class="quarto-figure quarto-figure-center" height="300" alt="Desmarais, Harden, and Boehmke (2015), tbl. 2"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="DesmaraisEtAl2015">Desmarais, Harden, and Boehmke (<a href="#/参考文献" role="doc-biblioref" onclick="">2015</a>)</span>, tbl. 2</figcaption>
</figure>
</div>
<ul>
<li>i州比j州早采用一个政策的次数</li>
<li>同一政策i和j采用的时间差</li>
<li>i采用在多大程度上能预测j的采用</li>
</ul>
<aside class="notes">
<p>佛罗里达是近五年policy的主要推动者</p>
<p>一个州被认为innovative，并不单纯取决于它多快采用一个policy</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div></div>
</section>
<section id="一种现象何种机制" class="slide level2" data-number="2.5">
<h2><span class="header-section-number">2.5</span> 一种现象，何种机制</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p><em>Influencing vs.&nbsp;homophily</em></p>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_homophilyVsInfluenced.png" class="lightbox" data-gallery="quarto-lightbox-gallery-22" title="@AralEtAl2009"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_homophilyVsInfluenced.png" class="quarto-figure quarto-figure-center" height="500" alt="Aral, Muchnik, and Sundararajan (2009)"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="AralEtAl2009">Aral, Muchnik, and Sundararajan (<a href="#/参考文献" role="doc-biblioref" onclick="">2009</a>)</span></figcaption>
</figure>
</div>
<p><span class="fragment">传统方法会高估影响机制 300-700%</span></p>
<aside class="notes">
<p>在用Yahoo！Go（类似于企业微信）使用者数据</p>
<p>根据节点的网络性质：在控制了nodes的各种行为和个体特点后，比较那些有很多adopted friends 和没有那么多adopted friends之人</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div><div class="column fragment" style="width:50%;">
<p>Influencing vs.&nbsp;affiliating</p>
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_affiliatingVsInfluenced.png" class="lightbox" data-gallery="quarto-lightbox-gallery-23" title="@LazerEtAl2010"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_affiliatingVsInfluenced.png" class="quarto-figure quarto-figure-center" height="500" alt="Lazer et al. (2010)"></a></p>
</figure>
</div>
<figcaption><span class="citation" data-cites="LazerEtAl2010">Lazer et al. (<a href="#/参考文献" role="doc-biblioref" onclick="">2010</a>)</span></figcaption>
</figure>
</div>
<p><span class="fragment">“关系 &gt; 知识”</span></p>
<aside class="notes">
<ul>
<li>164公共政策2年级硕士生</li>
<li>同cohort</li>
<li>刚入学(T1)，第二学期开始(T2)，第二学期结束(T3)</li>
</ul>
<p>个体根据其associates改变正政治看法，这种conformity受social ties 而非task ties影响。而政治看法反过来对relationship影响不大。</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div></div>
</section>
<section id="小结-1" class="slide level2" data-number="2.6">
<h2><span class="header-section-number">2.6</span> 小结</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>分析对象
<ul>
<li>P0</li>
<li>上游 → 下游</li>
<li>时间、条件</li>
</ul></li>
<li>分析视角
<ul>
<li>Contact network</li>
<li>Exposure network</li>
<li>Transmission network</li>
</ul></li>
</ul>
</div><div class="column" style="width:50%;">
<ul>
<li>扩散机制
<ul>
<li>主动机制：学习、认同、竞争</li>
<li>被动机制：shock，homophily，strategy</li>
<li>一种行为，辨析机制</li>
</ul></li>
</ul>
</div></div>
</section>
<section id="take-home-points" class="slide level2" data-number="2.7">
<h2><span class="header-section-number">2.7</span> Take-Home Points</h2>
<div class="columns" style="text-align:center">
<div class="column fragment" style="width:50%;">
<p>Edge Effect (邻居效应)</p>
<ul>
<li>Dyad/Triad Census</li>
<li>社群 (Homophily)</li>
</ul>
</div><div class="column fragment" style="width:50%;">
<p>Diffusion Effect (扩散分析)</p>
<ul>
<li>联系</li>
<li>暴露</li>
<li>传动</li>
</ul>
</div></div>
</section>
<section id="参考文献" class="slide level2 smaller scrollable" data-number="2.8">
<h2><span class="header-section-number">2.8</span> 参考文献</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-AralEtAl2009" class="csl-entry" role="listitem">
Aral, Sinan, Lev Muchnik, and Arun Sundararajan. 2009. <span>“Distinguishing Influence-Based Contagion from Homophily-Driven Diffusion in Dynamic Networks.”</span> <em>Proceedings of the National Academy of Sciences</em> 106 (51): 21544–49. <a href="https://doi.org/10.1073/pnas.0908800106">https://doi.org/10.1073/pnas.0908800106</a>.
</div>
<div id="ref-DesmaraisEtAl2015" class="csl-entry" role="listitem">
Desmarais, Bruce A., Jeffrey J. Harden, and Frederick J. Boehmke. 2015. <span>“Persistent Policy Pathways: Inferring Diffusion Networks in the American States.”</span> <em>American Political Science Review</em> 109 (2): 392–406. <a href="https://doi.org/10.1017/S0003055415000040">https://doi.org/10.1017/S0003055415000040</a>.
</div>
<div id="ref-KlovdahlEtAl1994" class="csl-entry" role="listitem">
Klovdahl, A. S., J. J. Potterat, D. E. Woodhouse, J. B. Muth, S. Q. Muth, and W. W. Darrow. 1994. <span>“Social Networks and Infectious Disease: The Colorado Springs Study.”</span> <em>Social Science &amp; Medicine</em> 38 (1): 79–88. <a href="https://doi.org/10.1016/0277-9536(94)90302-6">https://doi.org/10.1016/0277-9536(94)90302-6</a>.
</div>
<div id="ref-LazerEtAl2010" class="csl-entry" role="listitem">
Lazer, David, Brian Rubineau, Carol Chetkovich, Nancy Katz, and Michael Neblo. 2010. <span>“The Coevolution of Networks and Political Attitudes.”</span> <em>Political Communication</em> 27 (3): 248–74. <a href="https://doi.org/10.1080/10584609.2010.500187">https://doi.org/10.1080/10584609.2010.500187</a>.
</div>
<div id="ref-MaozEtAl2007" class="csl-entry" role="listitem">
Maoz, Zeev, Lesley G. Terris, Ranan D. Kuperman, and Ilan Talmud. 2007. <span>“What Is the Enemy of My Enemy? Causes and Consequences of Imbalanced International Relations, 1816–2001.”</span> <em>Journal of Politics</em> 69 (1): 100–115.
</div>
<div id="ref-PrellSkvoretz2008" class="csl-entry" role="listitem">
Prell, Christina, and John Skvoretz. 2008. <span>“Looking at Social Capital Through Triad Structures.”</span> <em>Connections</em> 28 (2): 4–16.
</div>
<div id="ref-TamburriniEtAl2015" class="csl-entry" role="listitem">
Tamburrini, Nadine, Marco Cinnirella, Vincent A. A. Jansen, and John Bryden. 2015. <span>“Twitter Users Change Word Usage According to Conversation-Partner Social Identity.”</span> <em>Social Networks</em> 40: 84–89.
</div>
<div id="ref-Valente1996" class="csl-entry" role="listitem">
Valente, Thomas W. 1996. <span>“Social Network Thresholds in the Diffusion of Innovations.”</span> <em>Social Networks</em> 18 (1): 69–89. <a href="https://doi.org/10.1016/0378-8733(95)00256-1">https://doi.org/10.1016/0378-8733(95)00256-1</a>.
</div>
<div id="ref-WuEtAl2018" class="csl-entry" role="listitem">
Wu, Jiacheng, Forrest W. Crawford, David A. Kim, Derek Stafford, and Nicholas A. Christakis. 2018. <span>“Exposure, Hazard, and Survival Analysis of Diffusion on Social Networks.”</span> <em>Statistics in Medicine</em> 37 (17): 2561–85. <a href="https://doi.org/10.1002/sim.7658">https://doi.org/10.1002/sim.7658</a>.
</div>
<div id="ref-WangBiLouYuLie2011" class="csl-entry" role="listitem">
王弼, and 楼宇烈. 2011. <em>老子道德经注</em>. 中华国学文库. 北京: 中华书局.
</div>
</div>
</section></section>
<section>
<section id="附录聚类分析" class="title-slide slide level1 appendix center" data-visibility="uncounted" data-number="3">
<h1><span class="header-section-number">3</span> 附录：聚类分析</h1>
<aside class="notes">
<p>https://petolau.github.io/Overview-clustering-methods-in-R/</p>
<p>https://github.com/PetoLau/petolau.github.io/blob/master/_rmd/2024-01-11-Overview-clustering-methods-in-R.Rmd</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="toy-data" class="slide level2" data-visibility="uncounted" data-number="3.1">
<h2><span class="header-section-number">3.1</span> Toy data</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/comparison-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-24" title="聚类前后对比"><img data-src="09_networkAnalysisII_files/figure-revealjs/comparison-1.png" class="quarto-figure quarto-figure-center" width="960" alt="聚类前后对比"></a></p>
</figure>
</div>
<figcaption>聚类前后对比</figcaption>
</figure>
</div>
</div>
</div>
</section>
<section id="agglomerative-vs.-divisive" class="slide level2" data-visibility="uncounted" data-number="3.2">
<h2><span class="header-section-number">3.2</span> Agglomerative vs.&nbsp;Divisive</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_agglomerativeDivisive.bmp" class="lightbox" data-gallery="quarto-lightbox-gallery-25"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_agglomerativeDivisive.bmp" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<aside class="notes">
<ul>
<li>Agglomerative (/ə’ɡlɔmərətiv/) 基于 a wide variety of similarity measures，从empty graph （没有任何ties）开始，将最similar的nodes加在一起</li>
<li>Divisive 从complete graph 开始， dedrogram横切二分点）（halting points）</li>
</ul>
<p>A善于发现强连结community， D不会去除peripheral vertices；类似EFA和PCA的差别</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="非层次聚类" class="slide level2" data-visibility="uncounted" data-number="3.3">
<h2><span class="header-section-number">3.3</span> 非层次聚类</h2>
<ul>
<li>Centroid-based： K-means, K-medians, K-medoids, K-modes……</li>
<li>Model-based: Gaussian, gamma, t, poisson, GMM……</li>
<li>Density-based</li>
<li>Grid-based</li>
</ul>
</section>
<section id="聚类之前聚几类" class="slide level2" data-visibility="uncounted" data-number="3.4">
<h2><span class="header-section-number">3.4</span> 聚类之前：聚几类？</h2>
<div class="callout callout-note callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>基本思路</strong></p>
</div>
<div class="callout-content">
<p><span class="math display">\[
Max(\frac{类内相似性}{类间相似性})
\]</span></p>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">
<p>常见标准：</p>
<ul>
<li>Silhouette</li>
<li>Davies-Bouldin index</li>
<li>Dunn index</li>
</ul>
</div><div class="column" style="width:50%;">
<p>判断方法：<sup>1</sup></p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/clusterNumber-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-26" title="5个是最佳的选择，不过为了显示方法差别，后面采用3个"><img data-src="09_networkAnalysisII_files/figure-revealjs/clusterNumber-1.png" class="quarto-figure quarto-figure-center" width="960" alt="5个是最佳的选择，不过为了显示方法差别，后面采用3个"></a></p>
</figure>
</div>
<figcaption>5个是最佳的选择，不过为了显示方法差别，后面采用3个</figcaption>
</figure>
</div>
</div>
</div>
</div></div>
<aside><ol class="aside-footnotes"><li id="fn1"><p>与EFA判断方式一样（为什么？）</p></li></ol></aside></section>
<section id="centroid-based-k-mean" class="slide level2" data-visibility="uncounted" data-number="3.5">
<h2><span class="header-section-number">3.5</span> Centroid-based: K-Mean</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/kmean-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-27"><img data-src="09_networkAnalysisII_files/figure-revealjs/kmean-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
<div class="columns">
<div class="column fragment" style="width:50%;">
<p><em>步骤</em></p>
<ol type="1">
<li>创建随机的K个聚类（并计算质心）。</li>
<li>将点分配给最近的质心。</li>
<li>更新质心。</li>
<li>当质心仍在变化时，返回步骤2。</li>
</ol>
</div><div class="column fragment" style="width:50%;">
<p>优点：计算速度快。易于理解</p>
<p>缺点：</p>
<ul>
<li>不同的初始聚类可能导致最终聚类结果不同</li>
<li>对尺度敏感</li>
<li>只能创建凸形(球形)的聚类</li>
<li>对异常值敏感</li>
</ul>
</div></div>
</section>
<section id="centroid-based-k-medoids" class="slide level2" data-visibility="uncounted" data-number="3.6">
<h2><span class="header-section-number">3.6</span> Centroid-based: K-medoids</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>使用中心点而非平均值</p>
<p><em>优点</em></p>
<ul>
<li>对异常值不太敏感</li>
<li>可以使用任何距离度量</li>
</ul>
</div><div class="column" style="width:50%;">
<p><em>缺点</em></p>
<ul>
<li>不同的初始聚类可能导致最终聚类结果不同</li>
<li>对尺度敏感</li>
<li>比K-means算法慢</li>
</ul>
</div></div>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/kmedoids-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-28"><img data-src="09_networkAnalysisII_files/figure-revealjs/kmedoids-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>Medoids: the one that minimizes the total distance to all other points，a real one not a calculated mean</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="model-based-gmm" class="slide level2" data-visibility="uncounted" data-number="3.7">
<h2><span class="header-section-number">3.7</span> Model-based: GMM</h2>
<p>通常对于多维数据采用Mixture of models, 比如Gaussian Mixture Models (GMM)</p>
<p><span class="math display">\[
L(\boldsymbol{\mu_1}, \dots, \boldsymbol{\mu_k}, \boldsymbol{\Sigma_1}, \dots, \boldsymbol{\Sigma_k} | \boldsymbol{x_1}, \dots, \boldsymbol{x_n}).
\]</span></p>
<aside class="notes">
<p>Cluster: mean (<span class="math inline">\(\mathbf{\mu}\)</span>) and covariance matrix (<span class="math inline">\(\mathbf{\Sigma}\)</span>) Here, cluster is represented by . So not just centroid as in the case of K-means.</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<p>类数选择：BIC</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/bic-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-29"><img data-src="09_networkAnalysisII_files/figure-revealjs/bic-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
</div>
</section>
<section id="操作过程" class="slide level2" data-visibility="uncounted" data-number="3.8">
<h2><span class="header-section-number">3.8</span> 操作过程</h2>
<ul>
<li>目标：Maximum likelihood</li>
<li>过程：Expectation Maximization (EM)</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/gmm-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-30"><img data-src="09_networkAnalysisII_files/figure-revealjs/gmm-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="density-based-方法" class="slide level2" data-visibility="uncounted" data-number="3.9">
<h2><span class="header-section-number">3.9</span> Density-based 方法</h2>
<p>定义密度，然后寻找最大化密度的点</p>
<div class="columns">
<div class="column" style="width:50%;">
<p>常见方法:</p>
<ul>
<li>DBSCAN: 用neighborhood定义密度，所有点必须在一定距离内，每个cluster里必须有一定数量的点<sup>1</sup></li>
<li>OPTICS</li>
<li>HDBSCAN</li>
<li>Multiple densities (Multi-density) methods</li>
</ul>
</div><div class="column" style="width:50%;">
<p><em>优点</em></p>
<ul>
<li>自动提取异常值</li>
<li>计算速度快</li>
<li>可以找到任意形状的簇</li>
<li>根据数据<span class="red">自动确定簇的数量</span></li>
</ul>
<p><em>缺点</em></p>
<ul>
<li>必须预设参数（<span class="math inline">\(\epsilon\)</span>，minPts）值</li>
<li>邻域可能存在连接问题</li>
</ul>
</div></div>
<aside><ol class="aside-footnotes"><li id="fn2"><p>未与任何cluster连接且未通过最小点标准的点被标记为噪声（异常值）</p></li></ol></aside></section>
<section id="dbscan效果" class="slide level2" data-visibility="uncounted" data-number="3.10">
<h2><span class="header-section-number">3.10</span> DBSCAN效果</h2>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/dbscan-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-31"><img data-src="09_networkAnalysisII_files/figure-revealjs/dbscan-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="聚类除了聚类以外的功能" class="slide level2" data-visibility="uncounted" data-number="3.11">
<h2><span class="header-section-number">3.11</span> 聚类除了聚类以外的功能</h2>
<div class="r-stack">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/anomaly-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-32" title="甄别异常值"><img data-src="09_networkAnalysisII_files/figure-revealjs/anomaly-1.png" class="quarto-figure quarto-figure-center" width="960" alt="甄别异常值"></a></p>
</figure>
</div>
<figcaption>甄别异常值</figcaption>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="cell fig-cap-location-top" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/compression-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-33" title="数据浓缩/降维"><img data-src="09_networkAnalysisII_files/figure-revealjs/compression-1.png" class="quarto-figure quarto-figure-center" width="960" alt="数据浓缩/降维"></a></p>
</figure>
</div>
<figcaption>数据浓缩/降维</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="network-analysis-spatial-analysis" class="slide level2" data-visibility="uncounted" data-number="3.12">
<h2><span class="header-section-number">3.12</span> Network analysis 🤝 Spatial Analysis</h2>
<p>Modeling Peer Influence</p>
<p><span class="math display">\[\begin{align}
\boldsymbol{Y}^{(1)} &amp;= \boldsymbol{XB},\\
\boldsymbol{Y}^{(t)} &amp;= \alpha\boldsymbol{WY}^{t} + (1 - \alpha) Y^{(1)}.
\end{align}\]</span></p>
<ul>
<li><strong>Y</strong><sup>(1)</sup>: N个人，每人对M个问题的<span class="red">初始</span>看法 (N × M);</li>
<li><strong>X</strong>: K个会影响个体看法的（<span class="red">外生性</span>）变量（N × K）;</li>
<li>α: （内生性的）人际影响对Y的作用的<span class="red">比重</span>;</li>
<li><strong>W</strong>: <span class="red">人际关系矩阵</span>（N × N).</li>
</ul>
</section></section>
<section>
<section id="附录全网分析" class="title-slide slide level1 appendix center" data-visibility="uncounted" data-number="4">
<h1><span class="header-section-number">4</span> 附录：全网分析</h1>

</section>
<section id="网络分析的统计推断" class="slide level2" data-visibility="uncounted" data-number="4.1">
<h2><span class="header-section-number">4.1</span> 网络分析的统计推断</h2>
<div class="columns" style="text-align:center; margin-top: 2em">
<div class="column fragment" style="width:50%;">
<p><strong>统计推断流程</strong></p>
<ol type="1">
<li>确定H<sub>0</sub></li>
<li>确定显著性标准</li>
<li>检验观测统计是否在“null distribution的尾巴上”</li>
<li>拒绝/不拒绝H<sub>0</sub></li>
</ol>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>传统计量的前提假定</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Sample distribution (“假装”知道)</li>
<li>IID observations （“预设”满足）</li>
</ul>
</div>
</div>
</div>
</div>
</div><div class="column fragment" style="width:50%;">
<p><strong>网络分析</strong>：研究个体 → 研究关系</p>
<ol type="1">
<li>Sample是什么？</li>
<li>Parameter怎么设置？</li>
<li>H<sub>0</sub>是什么</li>
</ol>
<div class="fragment">
<p>⇓</p>
<p>随机网络分析</p>
</div>
<aside class="notes">
<ul>
<li>Sample: 关系</li>
<li>Parameter：对比随机网络</li>
<li>H<sub>0</sub>: X不影响网络（关系）结构</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div></div>
</section>
<section id="随机网络分析常见方法" class="slide level2" data-visibility="uncounted" data-number="4.2">
<h2><span class="header-section-number">4.2</span> 随机网络分析常见方法</h2>
<ul>
<li>Conditional uniform graph (CUG)</li>
<li>Quadratic assignment procedure (QAP)</li>
<li>Exponential family random graph models (ERGM)</li>
</ul>
</section>
<section id="cug" class="slide level2" data-visibility="uncounted" data-number="4.3">
<h2><span class="header-section-number">4.3</span> CUG</h2>
<p>“Baseline network”比较分析的一种</p>
<ol type="1">
<li>固定属性 (size, prob of edges, dyad census, degree, # of triangles, etc.)</li>
<li>同等可能</li>
</ol>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/cug-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-34"><img data-src="09_networkAnalysisII_files/figure-revealjs/cug-1.png" class="quarto-figure quarto-figure-center" width="960"></a></p>
</figure>
</div>
</div>
</div>
<aside class="notes">
<p>根据特定属性通过bernoulli分布建立随机网络，所有网络都是被视为同等可能出现</p>
<ul>
<li>n: The size of the vertex set (|V(G)|) for the random graphs</li>
<li>m: The number of graphs to generate</li>
<li>tprob: Information regarding tie (edge) probabilities; see below</li>
</ul>
<p>Generating 1000 random graphs of size 20; assumes digraph. tprob, probability of any tie existing is 30%. Plotting the density. it is probability, so, some is before 0.3, some beyond 0.3</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="h0" class="slide level2" data-visibility="uncounted" data-number="4.4">
<h2><span class="header-section-number">4.4</span> H<sub>0</sub></h2>
<p><span class="math display">\[
Network_{obs}\quad vs.\quad Network_{ran}
\]</span></p>
<div style="text-align:center">
<p>观测网络与随机网络在这些方面是否相异</p>
</div>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_networkHypothesis.png" class="lightbox" data-gallery="quarto-lightbox-gallery-35"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_networkHypothesis.png" class="quarto-figure quarto-figure-center" height="450"></a></p>
</figure>
</div>
</section>
<section id="conditional-uniform-graph-test" class="slide level2" data-visibility="uncounted" data-number="4.5">
<h2><span class="header-section-number">4.5</span> Conditional Uniform Graph Test</h2>
<div class="r-stack">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/cugDensity-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-36" title="Density"><img data-src="09_networkAnalysisII_files/figure-revealjs/cugDensity-1.png" class="quarto-figure quarto-figure-center" width="960" alt="Density"></a></p>
</figure>
</div>
<figcaption>Density</figcaption>
</figure>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/cugReciprocity-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-37" title="Density"><img data-src="09_networkAnalysisII_files/figure-revealjs/cugReciprocity-1.png" class="quarto-figure quarto-figure-center" width="960" alt="Density"></a></p>
</figure>
</div>
<figcaption>Density</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/cugEdge-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-38" title="Edge"><img data-src="09_networkAnalysisII_files/figure-revealjs/cugEdge-1.png" class="quarto-figure quarto-figure-center" width="960" alt="Edge"></a></p>
</figure>
</div>
<figcaption>Edge</figcaption>
</figure>
</div>
</div>
</div>
</div>
<div class="fragment">
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="09_networkAnalysisII_files/figure-revealjs/cugDyad-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-39" title="Dyad Census"><img data-src="09_networkAnalysisII_files/figure-revealjs/cugDyad-1.png" class="quarto-figure quarto-figure-center" width="960" alt="Dyad Census"></a></p>
</figure>
</div>
<figcaption>Dyad Census</figcaption>
</figure>
</div>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>Drabek et al.&nbsp;(1981) provide seven case studies of emergent multi-organizational networks (EMONs) in the context of search and rescue (SAR) activities. Networks of interaction frequency are reported, along with several organizational attributes.</p>
<p>Drabek等人（1981年）提供了七个关于搜救（SAR）活动中涌现的多组织网络（EMONs）的案例研究。报告了互动频率网络，以及几个组织属性。</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="qap" class="slide level2" data-visibility="uncounted" data-number="4.6">
<h2><span class="header-section-number">4.6</span> QAP</h2>
<div class="columns" style="text-align:center">
<div class="column" style="width:50%;">
<ul>
<li>创建随机网络分布 (= CUG)</li>
<li>控制网络结构 (≠ CUG)</li>
</ul>
<aside class="notes">
<p>网络结构: centrality 等</p>
<p>non-parametric，从sample中抽出两组，对比stats，看是否一样。 与t-test等的对比重要不同在于不是跟normal比</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div><div class="column fragment" style="width:50%;">
<p>通过permutation test实现:</p>
<ol type="1">
<li>计算原始网络的correlation coefficient;<sup>1</sup></li>
<li>Permute一些vertices；</li>
<li>将Permuted 网络和原始网络相对比；</li>
<li>一顿狂Permute + 狂比</li>
<li>看看correlation的分布</li>
<li>确定特定值和原始网络相同的概率</li>
</ol>
<aside class="notes">
<p>网络correlation 根据两点除相互连接外的其他degree (remaining degree)计算</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div></div>
<aside><ol class="aside-footnotes"><li id="fn3"><p>Pearson’s r correlation or Euclidean distance</p></li></ol></aside></section>
<section id="多元网络分析-qap" class="slide level2" data-visibility="uncounted" data-number="4.7">
<h2><span class="header-section-number">4.7</span> 多元网络分析 (QAP)</h2>
<p>OV: 网络<br>
EV: 解释变量adjacency matrices</p>
<p><span class="math display">\[
E(\text{Advice}_{ij}) = \beta_0 + \beta_1\text{Reports}_{ij} + \beta_2\text{Friends}_{ij} +...
\]</span></p>
<div class="fragment">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>
Network Logit Model

Coefficients:
            Estimate   Exp(b)     Pr(&lt;=b) Pr(&gt;=b) Pr(&gt;=|b|)
(intercept) -0.4251826  0.6536504 0.1     0.9     0.1      
x1           0.5794452  1.7850479 1.0     0.0     0.0      
x2           3.0589826 21.3058690 1.0     0.0     0.0      

Goodness of Fit Statistics:

Null deviance: 582.2436 on 420 degrees of freedom
Residual deviance: 548.1452 on 417 degrees of freedom
Chi-Squared test of fit improvement:
     34.09844 on 3 degrees of freedom, p-value 1.888613e-07 
AIC: 554.1452   BIC: 566.266 
Pseudo-R^2 Measures:
    (Dn-Dr)/(Dn-Dr+dfn): 0.07509042 
    (Dn-Dr)/Dn: 0.05856387 
Contingency Table (predicted (rows) x actual (cols)):

         Actual
Predicted     0     1
        0   188   122
        1    42    68

    Total Fraction Correct: 0.6095238 
    Fraction Predicted 1s Correct: 0.6181818 
    Fraction Predicted 0s Correct: 0.6064516 
    False Negative Rate: 0.6421053 
    False Positive Rate: 0.1826087 

Test Diagnostics:

    Null Hypothesis: qap 
    Replications: 10 
    Distribution Summary:

       (intercept)       x1       x2
Min       -4.27917 -2.30072 -2.50044
1stQ      -3.09159 -1.38952 -1.72191
Median    -2.75976 -0.79381 -0.35893
Mean      -2.85054 -0.73883 -0.46850
3rdQ      -2.44199  0.03066  0.59092
Max       -1.70055  0.66111  1.50924</code></pre>
</div>
</div>
</div>
<aside class="notes">
<p>There are also <code>netlm</code> etc.</p>
<p>Not 10, often over 1000</p>
<p>null hyp choices: qap quick, qapspp robust</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="ergm" class="slide level2" data-visibility="uncounted" data-number="4.8">
<h2><span class="header-section-number">4.8</span> ERGM</h2>
<div class="columns">
<div class="column" style="width:35%;">
<p><em>通盘考虑</em>：</p>
<ol type="1">
<li>Nodal</li>
<li>Edge (Dyadic)</li>
<li>Network (Structural)</li>
</ol>
</div><aside class="notes">
<p>更关键在，在理解一个的时候考虑到其他层次问题，“全方位视听感受”</p>
<p>但如果对structure不感兴趣，不需要用ERGM</p>
<p>Latent space models 也可以控制structure，但目的在于去除而不是care，而且是基于baysian</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside><div class="column" style="width:65%;">
<div class="fragment">
<p><em>Interdependence</em></p>
<ol type="1">
<li>面对共同的敌人，是否减小彼此敌意？</li>
<li>合作者选择过程终得Popularity effects</li>
</ol>
</div>
<div class="fragment">
<p><em>Dyadic Covariate</em></p>
<ol type="1">
<li>国家是否与相同政体国家更可能结盟</li>
<li>同个党派议员是否比不同党派议员合作更多</li>
</ol>
</div>
<div class="fragment">
<p><em>Structural</em></p>
<ol type="1">
<li>Cosponsorship是否存在互惠</li>
<li>教室中指定同桌，是否改变不同人群关系</li>
</ol>
</div>
<aside class="notes">
<p>联合抗敌 vs “攘外必先安内”</p>
<p>partisanship vs.&nbsp;issues</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div></div>
</section>
<section id="ergm沿革" class="slide level2" data-visibility="uncounted" data-number="4.9">
<h2><span class="header-section-number">4.9</span> ERGM沿革</h2>
<div class="large" style="text-align:center; margin-top: 2em">
<p>Simple Random Graph Model</p>
<p>↓</p>
<p>P<sup>1</sup> Model</p>
<p>↓</p>
<p>P<sup>*</sup> Model</p>
<p>↓</p>
<p>ERGM &amp;rarr GEGM/TEGM…</p>
</div>
</section>
<section id="simple-random-graph-model" class="slide level2" data-visibility="uncounted" data-number="4.10">
<h2><span class="header-section-number">4.10</span> Simple Random Graph Model</h2>
<p><span class="math display">\[
P(X = x) = \frac{exp(\theta_LL(x))}{k(\theta)}.
\]</span></p>
<ul>
<li>L: # of arcs</li>
<li>θ: edge parameter<sup>1</sup></li>
</ul>
<aside class="notes">
<p>1959，只允许specify links</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Bernoulli Assumption</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Tie 是独立的（🤨）</li>
<li>IID ties → Log-probability of a graph is proportional to a weighted sum of edge-count</li>
</ul>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>基于这个assumption才有simple random graph</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<aside><ol class="aside-footnotes"><li id="fn4"><p>k(θ)意在标准化, 整个结果和为1。</p></li></ol></aside></section>
<section id="p1-model" class="slide level2" data-visibility="uncounted" data-number="4.11">
<h2><span class="header-section-number">4.11</span> P<sup>1</sup> Model</h2>
<p><span class="math display">\[
P(X = x) = \frac{exp(\theta_LL(x) + \color{red}{\theta_MM(x) + \sum_i\alpha_iy_{i+} + \sum_j\beta_iy_{+j}})}{\kappa(\theta)}.
\]</span></p>
<ul>
<li>M: # of mutual</li>
<li>y<sub>i+</sub>: # outgoing ties</li>
<li>y<sub>+j</sub>: # incoming ties</li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><del>Bernoulli</del> Dyad Independence Assumption</strong></p>
</div>
<div class="callout-content">
<ul>
<li>允许互惠和不同方向的不同作用</li>
<li>用于binary,有向网络</li>
</ul>
<aside class="notes">
<ul>
<li>Allows for reciprocity and differential attractiveness</li>
<li>Useful for binary, directed graphs</li>
</ul>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>所有高于degree of reciprocity的性质都不能解决, 没人再用</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="p-model" class="slide level2" data-visibility="uncounted" data-number="4.12">
<h2><span class="header-section-number">4.12</span> P<sup>*</sup> Model</h2>
<p><span class="math display">\[
P(X = x) = \frac{exp(\sum_i\theta_i\color{red}{z_i(x)})}{\kappa(\theta)}.
\]</span></p>
<p>z<sub>i</sub>: any network statistics加在一起</p>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong><del>Dyad Independence</del> Markov assumption</strong></p>
</div>
<div class="callout-content">
<ul>
<li>Ties are (conditionally) independent unless they <span class="red">share</span> a node.
<ul>
<li>Parallels in Markov chains, time series, spatial analysis</li>
</ul></li>
<li>Think of nodes as <span class="red">connecting</span> edges to obtain this dependence structure</li>
<li>Ties are conditionally dependent if and only if they <span class="red">share</span> a node</li>
</ul>
</div>
</div>
</div>
</div>
<aside class="notes">
<p>ERGM基于此发展而来，现在两者区别更多是computational而非想法上的</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="network-statistics" class="slide level2" data-visibility="uncounted" data-number="4.13">
<h2><span class="header-section-number">4.13</span> Network Statistics</h2>
<div class="columns" style="text-align:center">
<div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_pStarParameters.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-40"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_pStarParameters.jpg" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><a href="https://drhuyue.site:10002/sammo3182/figure/sna_pStarParametersII.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-41"><img data-src="https://drhuyue.site:10002/sammo3182/figure/sna_pStarParametersII.jpg" class="quarto-figure quarto-figure-center" height="600"></a></p>
</figure>
</div>
<aside class="notes">
<p>Things one can test in P*, path closure: 多重triangle</p>
<p>算起来更麻烦， necessary</p>
<p>如果你想了解更多</p>
<p>GOOGLE上没有全的表</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div></div>
</section>
<section id="ergm-1" class="slide level2" data-visibility="uncounted" data-number="4.14">
<h2><span class="header-section-number">4.14</span> ERGM</h2>
<p><span class="math display">\[
\begin{align}
P(N, \boldsymbol{\theta}) =&amp; \frac{exp(\sum_i\theta_iz_i(N))}{\kappa(\theta)}.\\
\downarrow&amp; \\
P(N, \boldsymbol{\theta}) =&amp; \frac{exp(\boldsymbol{\theta'h}(N))}{\sum_{N^*\in N}exp(\boldsymbol{\theta'h}(N^*))}
\end{align}.
\]</span></p>
<ul>
<li>N* 是特定network statistics 的数目</li>
<li>分母随所加statistics而变得复杂</li>
</ul>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>ERGM Assumptions</strong></p>
</div>
<div class="callout-content">
<ol type="1">
<li>Model是正确的</li>
<li>在特定network statistics下，观测到任何两个具有同样网络属性的networks的几率是相同的</li>
</ol>
</div>
</div>
</div>
</div>
<aside class="notes">
<ol type="1">
<li>Model is correctly specified</li>
<li>Given a set of network statistics, there’s equal probability of observing any two networks with the same values of those statistics.</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="理解ergm结果" class="slide level2" data-visibility="uncounted" data-number="4.15">
<h2><span class="header-section-number">4.15</span> 理解ERGM结果</h2>
<p><span class="math display">\[
P(N, \boldsymbol{\theta}) = \frac{exp(\boldsymbol{\theta'h}(N))}{\sum_{N^*\in N}exp(\boldsymbol{\theta'h}(N^*))}.
\]</span></p>
<ul>
<li>Network level：<span class="red">exp(θ)</span>，relative likelihood of observing N<sup>i+</sup> to observing N<sup>i-</sup></li>
</ul>
<aside class="notes">
<p>增加一个network statistics 比不加它变化的likelihood</p>
<p>odd-like stuff: 那么 θ = 0代表什么？</p>
<p>θ = 0 ⇒ exp(θ) = 1 ⇒ 增加或不增加这个stats看到observed network几率是一样的，a.k.a., 没用</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<ul>
<li>Edge level：<span class="red">exp(θ<sub>r</sub>δ<sub>r</sub><sup>(ij)</sup>)</span>, P(N<sub>ij</sub> = 1|N<sub>-ij</sub>, θ) = logit<sup>-1</sup>∑<sub>r=1</sub>θ<sub>r</sub>δ<sub>r</sub><sup>(ij)</sup>(N)</li>
</ul>
<aside class="notes">
<p>δ<sub>r</sub><sup>(ij)</sup>: Change parameter</p>
<p>记录改变多少： 比如同样是增加一个edge，对于mutual（包含reciprocal和not conntected），对于i 和 j已经相连的情况，加一个edge是增加了一个mutual，那么δ + 1, 但如果i 和 j不相连，那么加一个edge，是把一个互不相连的mutual弄没了，δ - 1。 所以实际计算比较复杂，但btergm::interpret</p>
<p><span class="math inline">\(logit^{-1} = frac{1}{1 + e^{-1}}\)</span></p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
<ul>
<li>Nodal level: Block-wise conditional distributions</li>
</ul>
<aside class="notes">
<p>Blocks are split according to an attribute, complicated</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</section>
<section id="跑完不算完" class="slide level2" data-visibility="uncounted" data-number="4.16">
<h2><span class="header-section-number">4.16</span> 跑完不算完</h2>
<div class="columns" style="text-align:center; margin-top: 2em">
<div class="column fragment" style="width:30%;">
<p><em>诊断</em></p>
<ul>
<li>Convergence</li>
<li>Degeneracy</li>
</ul>
<p><span class="fragment highlight-red">Super important!</span></p>
<aside class="notes">
<p>Degenracy is ERGM goodness of fit, unstable results, random process, model fit, little changes a lot; leading to prediction that everyone should connect to everyone or none</p>
<p>Looking for high p-value (not violate the assumptions)</p>
<p>Convergence is for Markov Chain</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div><div class="column fragment" style="width:40%;">
<p><em>局限</em></p>
<ol type="1">
<li>MPLE vs.&nbsp;MLE vs.&nbsp;MCMC-MLE</li>
<li>Degeneracy</li>
<li>Sensitivity to missing data</li>
</ol>
<aside class="notes">
<ol type="1">
<li>Maximum pseudo LE； 前两个对P1之前还好，之后算不出来</li>
</ol>
<p>Theory really matters!! 来解释要加什么network statistics</p>
<p>怎么解决 geometrically weighted degree distribution</p>
<ol type="1">
<li>Sensitivity</li>
</ol>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div><div class="column fragment" style="width:30%;">
<p><em>发展</em></p>
<ul>
<li>GERGM</li>
<li>TERGM
<ul>
<li>STERGM</li>
</ul></li>
<li>FERGM</li>
</ul>
<p>……</p>
</div><aside class="notes">
<p>G ERGM: weighted ergm</p>
<p>S TERGM: Network panel data, Separable TERGM for each time point the ties formatting and disoluting independently</p>
<p>F ERGM: Frailty ERGM “individual-level random effects” for the propensity for a directed tie</p>
<style type="text/css">
        span.MJX_Assistive_MathML {
          position:absolute!important;
          clip: rect(1px, 1px, 1px, 1px);
          padding: 1px 0 0 0!important;
          border: 0!important;
          height: 1px!important;
          width: 1px!important;
          overflow: hidden!important;
          display:block!important;
      }</style></aside>
</div>

</section></section>

    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">

</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="09_networkAnalysisII_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/reveal-spotlight/spotlight.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="09_networkAnalysisII_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'spotlight': {"size":50,"lockPointerInsideCanvas":false,"toggleSpotlightOnMouseDown":false,"spotlightOnKeyPressAndHold":73,"spotlightCursor":"none","presentingCursor":"default","initialPresentationMode":true,"disablingUserSelect":true,"fadeInAndOut":100,"useAsPointer":false,"pointerColor":"red"},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: true,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealSpotlight, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    

    <script>

      // htmlwidgets need to know to resize themselves when slides are shown/hidden.

      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current

      // slide changes (different for each slide format).

      (function () {

        // dispatch for htmlwidgets

        function fireSlideEnter() {

          const event = window.document.createEvent("Event");

          event.initEvent("slideenter", true, true);

          window.document.dispatchEvent(event);

        }

    

        function fireSlideChanged(previousSlide, currentSlide) {

          fireSlideEnter();

    

          // dispatch for shiny

          if (window.jQuery) {

            if (previousSlide) {

              window.jQuery(previousSlide).trigger("hidden");

            }

            if (currentSlide) {

              window.jQuery(currentSlide).trigger("shown");

            }

          }

        }

    

        // hookup for slidy

        if (window.w3c_slidy) {

          window.w3c_slidy.add_observer(function (slide_num) {

            // slide_num starts at position 1

            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);

          });

        }

    

      })();

    </script>

    

    <script id="quarto-html-after-body" type="application/javascript">
      window.document.addEventListener("DOMContentLoaded", function (event) {
        const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
        tabsets.forEach(function(tabset) {
          const tabby = new Tabby('#' + tabset.id);
        });
        const isCodeAnnotation = (el) => {
          for (const clz of el.classList) {
            if (clz.startsWith('code-annotation-')) {                     
              return true;
            }
          }
          return false;
        }
        const onCopySuccess = function(e) {
          // button target
          const button = e.trigger;
          // don't keep focus
          button.blur();
          // flash "checked"
          button.classList.add('code-copy-button-checked');
          var currentTitle = button.getAttribute("title");
          button.setAttribute("title", "Copied!");
          let tooltip;
          if (window.bootstrap) {
            button.setAttribute("data-bs-toggle", "tooltip");
            button.setAttribute("data-bs-placement", "left");
            button.setAttribute("data-bs-title", "Copied!");
            tooltip = new bootstrap.Tooltip(button, 
              { trigger: "manual", 
                customClass: "code-copy-button-tooltip",
                offset: [0, -8]});
            tooltip.show();    
          }
          setTimeout(function() {
            if (tooltip) {
              tooltip.hide();
              button.removeAttribute("data-bs-title");
              button.removeAttribute("data-bs-toggle");
              button.removeAttribute("data-bs-placement");
            }
            button.setAttribute("title", currentTitle);
            button.classList.remove('code-copy-button-checked');
          }, 1000);
          // clear code selection
          e.clearSelection();
        }
        const getTextToCopy = function(trigger) {
            const codeEl = trigger.previousElementSibling.cloneNode(true);
            for (const childEl of codeEl.children) {
              if (isCodeAnnotation(childEl)) {
                childEl.remove();
              }
            }
            return codeEl.innerText;
        }
        const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
          text: getTextToCopy
        });
        clipboard.on('success', onCopySuccess);
        if (window.document.getElementById('quarto-embedded-source-code-modal')) {
          const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
            text: getTextToCopy,
            container: window.document.getElementById('quarto-embedded-source-code-modal')
          });
          clipboardModal.on('success', onCopySuccess);
        }
          var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
          var mailtoRegex = new RegExp(/^mailto:/);
            var filterRegex = new RegExp('/' + window.location.host + '/');
          var isInternal = (href) => {
              return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
          }
          // Inspect non-navigation links and adorn them if external
         var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
          for (var i=0; i<links.length; i++) {
            const link = links[i];
            if (!isInternal(link.href)) {
              // undo the damage that might have been done by quarto-nav.js in the case of
              // links that we want to consider external
              if (link.dataset.originalHref !== undefined) {
                link.href = link.dataset.originalHref;
              }
                // target, if specified
                link.setAttribute("target", "_blank");
                if (link.getAttribute("rel") === null) {
                  link.setAttribute("rel", "noopener");
                }
            }
          }
        function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
          const config = {
            allowHTML: true,
            maxWidth: 500,
            delay: 100,
            arrow: false,
            appendTo: function(el) {
                return el.closest('section.slide') || el.parentElement;
            },
            interactive: true,
            interactiveBorder: 10,
            theme: 'light-border',
            placement: 'bottom-start',
          };
          if (contentFn) {
            config.content = contentFn;
          }
          if (onTriggerFn) {
            config.onTrigger = onTriggerFn;
          }
          if (onUntriggerFn) {
            config.onUntrigger = onUntriggerFn;
          }
            config['offset'] = [0,0];
            config['maxWidth'] = 700;
          window.tippy(el, config); 
        }
        const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
        for (var i=0; i<noterefs.length; i++) {
          const ref = noterefs[i];
          tippyHover(ref, function() {
            // use id or data attribute instead here
            let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
            try { href = new URL(href).hash; } catch {}
            const id = href.replace(/^#\/?/, "");
            const note = window.document.getElementById(id);
            if (note) {
              return note.innerHTML;
            } else {
              return "";
            }
          });
        }
        const findCites = (el) => {
          const parentEl = el.parentElement;
          if (parentEl) {
            const cites = parentEl.dataset.cites;
            if (cites) {
              return {
                el,
                cites: cites.split(' ')
              };
            } else {
              return findCites(el.parentElement)
            }
          } else {
            return undefined;
          }
        };
        var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
        for (var i=0; i<bibliorefs.length; i++) {
          const ref = bibliorefs[i];
          const citeInfo = findCites(ref);
          if (citeInfo) {
            tippyHover(citeInfo.el, function() {
              var popup = window.document.createElement('div');
              citeInfo.cites.forEach(function(cite) {
                var citeDiv = window.document.createElement('div');
                citeDiv.classList.add('hanging-indent');
                citeDiv.classList.add('csl-entry');
                var biblioDiv = window.document.getElementById('ref-' + cite);
                if (biblioDiv) {
                  citeDiv.innerHTML = biblioDiv.innerHTML;
                }
                popup.appendChild(citeDiv);
              });
              return popup.innerHTML;
            });
          }
        }
      });
      </script>
    <script>var lightboxQuarto = GLightbox({"closeEffect":"fade","descPosition":"bottom","loop":false,"openEffect":"fade","selector":".lightbox"});
    (function() {
      let previousOnload = window.onload;
      window.onload = () => {
        if (previousOnload) {
          previousOnload();
        }
        lightboxQuarto.on('slide_before_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          const href = trigger.getAttribute('href');
          if (href !== null) {
            const imgEl = window.document.querySelector(`a[href="${href}"] img`);
            if (imgEl !== null) {
              const srcAttr = imgEl.getAttribute("src");
              if (srcAttr && srcAttr.startsWith("data:")) {
                slideConfig.href = srcAttr;
              }
            }
          } 
        });
      
        lightboxQuarto.on('slide_after_load', (data) => {
          const { slideIndex, slideNode, slideConfig, player, trigger } = data;
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(slideNode);
          }
        });
      
      };
      
    })();
              </script>
    

</body></html>